<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="generator" content="MediaWiki 1.13.3" />
		<meta name="keywords" content="Development/Languages/Ruby,Development/Languages/Ruby (es),Development/Languages/Ruby (zh CN),Development/Languages/Ruby (pt BR),Development/Languages/Ruby (ro),Development/Languages/Ruby (pl),Development/Languages/Ruby (no),Development/Languages/Ruby (ko),Development/Languages/Ruby (ru),Development/Languages/Ruby (se),Development/Languages/Ruby (zh TW)" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="KDE TechBase (en)" />
		<link rel="alternate" type="application/rss+xml" title="KDE TechBase RSS Feed" href="http://techbase.kde.org/index.php?title=Special:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="KDE TechBase Atom Feed" href="http://techbase.kde.org/index.php?title=Special:RecentChanges&amp;feed=atom" />
		<title>Development/Languages/Ruby - KDE TechBase</title>
		<style type="text/css">
		.cp-doNotDisplay { display: none; }
		@media aural, braille, handheld, tty { .cp-doNotDisplay { display: inline; speak: normal; }}
		.cp-pagetools { text-align: right; }
		@media print, embossed { .cp-pagetools { display: none; }}
		</style>
		<link rel="stylesheet" media="screen,projection" type="text/css" title="KDE Colors" href="/skins/oxygen/css.php?mode=normal&amp;css-inc=/" />
		<link rel="stylesheet" media="print, embossed" type="text/css" href="/skins/oxygen/css.php?mode=print&amp;css-inc=/" />
		<!--[if IE 6]> <link rel="stylesheet" type="text/css" media="screen" title="KDE Colors - ie Fix" href="$this->text('stylepath') ?>/oxygen/ie_fix.css" />  <![endif]-->
		<link rel="alternative stylesheet" media="screen, aural, handheld, tty, braille" type="text/css" title="Flat" href="/skins/oxygen/css.php?mode=flat&amp;css-inc=/" />
		<link rel="alternative stylesheet" media="screen" type="text/css" title="Browser Colors" href="/skins/oxygen/css.php?color&amp;background&amp;link" />
		<link rel="alternative stylesheet" media="screen" type="text/css" title="White on Black" href="/skins/oxygen/css.php?color=%23FFFFFF&amp;background=%23000000&amp;link=%23FF8080" />
		<link rel="alternative stylesheet" media="screen" type="text/css" title="Yellow on Blue" href="/skins/oxygen/css.php?color=%23EEEE80&amp;background=%23000060&amp;link=%23FFAA80" />
		<!-- Head Scripts -->
				<script type="text/javascript" src="/skins/common/ajax.js?164"></script>

        	<style type="text/css">/*<![CDATA[*/
@import "/index.php?title=MediaWiki:Common.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "/index.php?title=MediaWiki:Oxygen.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "/index.php?title=-&action=raw&gen=css&maxage=18000&useskin=oxygen";
/*]]>*/</style>
		<script type= "text/javascript">/*<![CDATA[*/
var skin = "oxygen";
var stylepath = "/skins";
var wgArticlePath = "/$1";
var wgScriptPath = "";
var wgScript = "/index.php";
var wgVariantArticlePath = false;
var wgActionPaths = [];
var wgServer = "http://techbase.kde.org";
var wgCanonicalNamespace = "";
var wgCanonicalSpecialPageName = false;
var wgNamespaceNumber = 0;
var wgPageName = "Development/Languages/Ruby";
var wgTitle = "Development/Languages/Ruby";
var wgAction = "view";
var wgArticleId = "5026";
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "en";
var wgContentLanguage = "en";
var wgBreakFrames = true;
var wgCurRevisionId = "39362";
var wgVersion = "1.13.3";
var wgEnableAPI = true;
var wgEnableWriteAPI = false;
var wgRestrictionEdit = [];
var wgRestrictionMove = [];
/*]]>*/</script>
		<script type="text/javascript" src="/skins/common/wikibits.js?1"><!-- wikibits js --></script>
		<script type="text/javascript" src="/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=oxygen"><!-- site js --></script>

	</head>
<body class="ns-0 ltr">
	<!-- All the header navigation is placed here -->
	<div id="header">
			<div id="header_top"><div><div>
				<img alt ="" src="/skins/oxygen/top-kde.png"/>
				<!-- Name of Site Goes Here - Media Wiki doesn't provide name of site in API -->
				<!--<a href="/" class="headerlink">KDE Developers Home</a>-->
				<a href="/" class="title">KDE TechBase</a>
				</div></div></div>
	  	<div id="header_bottom">

		<div id="menu">
		<!-- Orderd List and Navigation Goes Here 
		  <ul>
			<li><a href="./sitemap.php">Sitemap</a></li>
			<li><a href="./contact.php">Contact Us</a></li>
		  </ul>
		 -->
		 <!-- Actions that for example allow you to edit page keep seperate! -->
			<ul>
								 <li id="ca-nstab-main" class="selected"><a href="/Development/Languages/Ruby"><span>Page</span></a></li>
								 <li id="ca-talk" class="new"><a href="/index.php?title=Talk:Development/Languages/Ruby&amp;action=edit"><span>Discussion</span></a></li>
								 <li id="ca-edit"><a href="/index.php?title=Development/Languages/Ruby&amp;action=edit"><span>Edit</span></a></li>
								 <li id="ca-history"><a href="/index.php?title=Development/Languages/Ruby&amp;action=history"><span>History</span></a></li>
						</ul>
		</div>
	  </div>
	</div>
		<div id="body_wrapper">
      		<div id="body">
				 <!-- Wiki Content Goes Here -->
        			<div id="right">
         				 <div class="content">
        					  <div id="main">
									<a name="top" id="top"></a>
									<div id="siteNotice"><div style="color:#888a85;">KDE TechBase is a Wiki - You can help! <b>Please <a href="/Help:Contents" title="Help:Contents">contribute</a>!</b> <a href="/KDE_TechBase:Contributors" title="KDE TechBase:Contributors">Questions?</a></div>
</div>									<h1 class="firstHeading">Development/Languages/Ruby</h1>
									<div id="bodyContent">
										<!-- <h3 id="siteSub">From KDE TechBase</h3> -->
										<div id="contentSub"><span class="subpages">&lt; <a href="/Development" title="Development">Development</a> | <a href="/Development/Languages" title="Development/Languages">Languages</a></span></div>  
																				<!--										<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>-->
										<!-- start content -->
										<div style="margin:auto;font-size:83.3%;text-align:left">
<p><b>Languages:</b>
<span lang="ar"><a href="/index.php?title=Development/Languages/Ruby_%28ar%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (ar) (not yet written)">عربي</a></span> |
<span lang="ca"><a href="/index.php?title=Development/Languages/Ruby_%28ca%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (ca) (not yet written)">Català</a></span> |
<span lang="sl"><a href="/index.php?title=Development/Languages/Ruby_%28cs%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (cs) (not yet written)">Česky</a></span> |
<span lang="csb"><a href="/index.php?title=Development/Languages/Ruby_%28csb%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (csb) (not yet written)">Kaszëbsczi</a></span> |
<span><a href="/index.php?title=Development/Languages/Ruby_%28da%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (da) (not yet written)">Dansk</a></span> |
<span lang="de"><a href="/index.php?title=Development/Languages/Ruby_%28de%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (de) (not yet written)">Deutsch</a></span> |
<span lang="en"><strong class="selflink">English</strong></span> |
<span lang="eo"><a href="/index.php?title=Development/Languages/Ruby_%28eo%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (eo) (not yet written)">Esperanto</a></span> |
<span lang="es"><a href="/Development/Languages/Ruby_%28es%29" title="Development/Languages/Ruby (es)">Español</a></span> |
<span lang="fa"><a href="/index.php?title=Development/Languages/Ruby_%28fa%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (fa) (not yet written)">فارسی</a></span> |
<span lang="fi"><a href="/index.php?title=Development/Languages/Ruby_%28fi%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (fi) (not yet written)">Suomi</a></span> |
<span lang="fr"><a href="/index.php?title=Development/Languages/Ruby_%28fr%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (fr) (not yet written)">Français</a></span> |
<span lang="gl"><a href="/index.php?title=Development/Languages/Ruby_%28gl%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (gl) (not yet written)">Galego</a></span> |
<span lang="it"><a href="/index.php?title=Development/Languages/Ruby_%28it%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (it) (not yet written)">Italiano</a></span> |
<span lang="ja"><a href="/index.php?title=Development/Languages/Ruby_%28ja%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (ja) (not yet written)">日本語</a></span> |
<span lang="ko"><a href="/index.php?title=Development/Languages/Ruby_%28ko%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (ko) (not yet written)">한국어</a></span> |
<span lang="no"><a href="/index.php?title=Development/Languages/Ruby_%28no%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (no) (not yet written)">Norwegian</a></span> |
<span lang="pl"><a href="/index.php?title=Development/Languages/Ruby_%28pl%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (pl) (not yet written)">Polski</a></span> |
<span lang="pt_BR"><a href="/index.php?title=Development/Languages/Ruby_%28pt_BR%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (pt BR) (not yet written)">Português Brasileiro</a></span> |
<span lang="ro"><a href="/index.php?title=Development/Languages/Ruby_%28ro%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (ro) (not yet written)">Română</a></span> |
<span lang="ru"><a href="/index.php?title=Development/Languages/Ruby_%28ru%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (ru) (not yet written)">Русский</a></span> |
<span lang="se"><a href="/index.php?title=Development/Languages/Ruby_%28se%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (se) (not yet written)">Svenska</a></span> |
<span lang="sl"><a href="/index.php?title=Development/Languages/Ruby_%28sl%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (sl) (not yet written)">Slovenščina</a></span> |
<span lang="sr"><a href="/index.php?title=Development/Languages/Ruby_%28sr%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (sr) (not yet written)">српски</a></span> |
<span lang="uk"><a href="/index.php?title=Development/Languages/Ruby_%28uk%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (uk) (not yet written)">Українська</a></span> |
<span lang="zh_CN"><a href="/Development/Languages/Ruby_%28zh_CN%29" title="Development/Languages/Ruby (zh CN)">简体中文</a></span> |
<span lang="zh_TW"><a href="/index.php?title=Development/Languages/Ruby_%28zh_TW%29&amp;action=edit&amp;redlink=1" class="new" title="Development/Languages/Ruby (zh TW) (not yet written)">繁體中文</a></span>
</p>
</div>
<p><a href="/Image:Ruby.png" class="image" title="Image:ruby.png"><img alt="Image:ruby.png" src="/images/a/a9/Ruby.png" width="128" height="128" border="0" /></a>
</p><p>Very complete bindings to both the KDE API and the Qt APIs. The Korundum package includes both a QtRuby Qt-only binding along with the full combined Qt/KDE one. The QtRuby package contains just Qt bindings with no dependencies on KDE.
</p><p><a href="http://rubyforge.org/projects/korundum/" class="external text" title="http://rubyforge.org/projects/korundum/" rel="nofollow">Korundum/QtRuby - Ruby-KDE/Qt bindings</a>
</p><p>The book <a href="http://www.pragmaticprogrammer.com/titles/ctrubyqt/" class="external text" title="http://www.pragmaticprogrammer.com/titles/ctrubyqt/" rel="nofollow">Rapid GUI Development with QtRuby</a> (for Qt version 3.x) is available.
</p><p>Being <a href="http://developer.kde.org/language-bindings/smoke/index.html" class="external text" title="http://developer.kde.org/language-bindings/smoke/index.html" rel="nofollow">Smoke-based</a> bindings means that they offer full access to most KDE 4.x and Qt 4.x classes.
</p>
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#QtRuby"><span class="tocnumber">1</span> <span class="toctext">QtRuby</span></a></li>
<li class="toclevel-1"><a href="#Current_api_coverage_overview"><span class="tocnumber">2</span> <span class="toctext">Current api coverage overview</span></a>
<ul>
<li class="toclevel-2"><a href="#Available_calls"><span class="tocnumber">2.1</span> <span class="toctext">Available calls</span></a></li>
<li class="toclevel-2"><a href="#Virtual_methods"><span class="tocnumber">2.2</span> <span class="toctext">Virtual methods</span></a></li>
<li class="toclevel-2"><a href="#Properties"><span class="tocnumber">2.3</span> <span class="toctext">Properties</span></a></li>
<li class="toclevel-2"><a href="#Use_either_CamelCase_or_lowercase_with_underscore_naming"><span class="tocnumber">2.4</span> <span class="toctext">Use either CamelCase or lowercase with underscore naming</span></a></li>
<li class="toclevel-2"><a href="#Operator_overloading"><span class="tocnumber">2.5</span> <span class="toctext">Operator overloading</span></a></li>
<li class="toclevel-2"><a href="#Declare_signals_and_slots"><span class="tocnumber">2.6</span> <span class="toctext">Declare signals and slots</span></a></li>
<li class="toclevel-2"><a href="#Constructors"><span class="tocnumber">2.7</span> <span class="toctext">Constructors</span></a></li>
<li class="toclevel-2"><a href="#Garbage_Collection"><span class="tocnumber">2.8</span> <span class="toctext">Garbage Collection</span></a></li>
<li class="toclevel-2"><a href="#C.2B.2B_.27int.2A.27_and_.27int.26.27_argument_types"><span class="tocnumber">2.9</span> <span class="toctext">C++ 'int*' and 'int&amp;' argument types</span></a></li>
<li class="toclevel-2"><a href="#C.2B.2B_.27bool.2A.27_and_.27bool.26.27_argument_types"><span class="tocnumber">2.10</span> <span class="toctext">C++ 'bool*' and 'bool&amp;' argument types</span></a></li>
<li class="toclevel-2"><a href="#C.2B.2B_.28const_.29.28unsigned_.29char.2A_argument_types"><span class="tocnumber">2.11</span> <span class="toctext">C++ (const )(unsigned )char* argument types</span></a></li>
<li class="toclevel-2"><a href="#C.2B.2B_unsigned_char.2A_functions"><span class="tocnumber">2.12</span> <span class="toctext">C++ unsigned char* functions</span></a></li>
<li class="toclevel-2"><a href="#Debugging"><span class="tocnumber">2.13</span> <span class="toctext">Debugging</span></a></li>
<li class="toclevel-2"><a href="#String_i18n"><span class="tocnumber">2.14</span> <span class="toctext">String i18n</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Other_capabilities_and_offerings"><span class="tocnumber">3</span> <span class="toctext">Other capabilities and offerings</span></a>
<ul>
<li class="toclevel-2"><a href="#Qt_Designer"><span class="tocnumber">3.1</span> <span class="toctext">Qt Designer</span></a></li>
<li class="toclevel-2"><a href="#Loading_.ui_files_at_runtime_with_Qt::UILoader"><span class="tocnumber">3.2</span> <span class="toctext">Loading .ui files at runtime with Qt::UILoader</span></a></li>
<li class="toclevel-2"><a href="#API_reference"><span class="tocnumber">3.3</span> <span class="toctext">API reference</span></a></li>
<li class="toclevel-2"><a href="#Example_programs"><span class="tocnumber">3.4</span> <span class="toctext">Example programs</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#KDE_Specific_Infomation"><span class="tocnumber">4</span> <span class="toctext">KDE Specific Infomation</span></a></li>
<li class="toclevel-1"><a href="#Build_dependencies"><span class="tocnumber">5</span> <span class="toctext">Build dependencies</span></a></li>
<li class="toclevel-1"><a href="#Tutorials"><span class="tocnumber">6</span> <span class="toctext">Tutorials</span></a></li>
<li class="toclevel-1"><a href="#Download"><span class="tocnumber">7</span> <span class="toctext">Download</span></a></li>
<li class="toclevel-1"><a href="#More_help"><span class="tocnumber">8</span> <span class="toctext">More help</span></a></li>
<li class="toclevel-1"><a href="#More_information"><span class="tocnumber">9</span> <span class="toctext">More information</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="QtRuby"></a><h1><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=1" title="Edit section: QtRuby">edit</a>]</span> <span class="mw-headline"> QtRuby </span></h1>
<p>Hello world example:
</p>
<pre>#!/usr/bin/ruby -w
require 'Qt4'
a = Qt::Application.new(ARGV)
hello = Qt::PushButton.new(&quot;Hello World!&quot;)
hello.resize(100, 30)
hello.show
a.exec</pre>
<p>Hello Qt example in a more 'Rubyish' way:
</p>
<pre>require 'Qt4'
&nbsp;
Qt::Application.new(ARGV) do
    Qt::Widget.new do
&nbsp;
        self.window_title = 'Hello QtRuby v1.0'
        resize(200, 100)
    
        button = Qt::PushButton.new('Quit') do
            connect(SIGNAL&nbsp;:clicked) { Qt::Application.instance.quit }
        end
&nbsp;
        label = Qt::Label.new('&lt;big&gt;Hello Qt in the Ruby way!&lt;/big&gt;')
        
        self.layout = Qt::VBoxLayout.new do
            add_widget(label, 0, Qt::AlignCenter)
            add_widget(button, 0, Qt::AlignRight)
        end
        
        show
    end
    
    exec
end</pre>
<a name="Current_api_coverage_overview"></a><h1><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=2" title="Edit section: Current api coverage overview">edit</a>]</span> <span class="mw-headline"> Current api coverage overview </span></h1>
<a name="Available_calls"></a><h2><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=3" title="Edit section: Available calls">edit</a>]</span> <span class="mw-headline"> Available calls </span></h2>
<p>You can call all Qt public and protected methods, and all friend methods such as bitBlt() etc
</p>
<a name="Virtual_methods"></a><h2><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=4" title="Edit section: Virtual methods">edit</a>]</span> <span class="mw-headline"> Virtual methods </span></h2>
<p>All virtual methods can be overridden, not just event handlers
</p>
<a name="Properties"></a><h2><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=5" title="Edit section: Properties">edit</a>]</span> <span class="mw-headline"> Properties </span></h2>
<p>'foobar = 5' is a synonym for 'setFooBar(5)'
</p>
<a name="Use_either_CamelCase_or_lowercase_with_underscore_naming"></a><h2><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=6" title="Edit section: Use either CamelCase or lowercase with underscore naming">edit</a>]</span> <span class="mw-headline">Use either CamelCase or lowercase with underscore naming</span></h2>
<p>Any underscores in method names are removed, and the following character is capitalised. For example, you can use either of these two forms to call the same method:
</p>
<pre>      create_standard_status_bar_action()
      createStandardStatusBarAction()
</pre>
<a name="Operator_overloading"></a><h2><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=7" title="Edit section: Operator overloading">edit</a>]</span> <span class="mw-headline">Operator overloading</span></h2>
<p>The full range of Qt operator methods is available, for example:
</p>
<pre>      p1 = Qt::Point.new(5,5)   =&gt; (5, 5)
      p2 = Qt::Point.new(20,20) =&gt; (20, 20)
      p1 + p2                   =&gt; (25, 25)
</pre>
<a name="Declare_signals_and_slots"></a><h2><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=8" title="Edit section: Declare signals and slots">edit</a>]</span> <span class="mw-headline">Declare signals and slots</span></h2>
<p>Signals and slots are declared as list of strings like this:
</p>
<pre>      slots 'setColor(QColor)', 'slotLoad(const QString&amp;)'..
      signals 'clicked()'..
</pre>
<p>For slots and signals without arguments you can use Ruby symbols:
</p>
<pre>      slots&nbsp;:slotLoad
      signals&nbsp;:clicked
       
</pre>
<p>Currently C++ type signatures must be used, a future version of QtRuby will allow ruby type signatures instead.
</p><p>Connect slots and signals like this:
</p>
<pre>      Qt::Object.connect( @colormenu, SIGNAL( "activated(int)" ),
                        self, SLOT( "slotColorMenu(int)" ) )
</pre>
<p>Or you can connect signal to a block:
</p>
<pre>      quit_button.connect(SIGNAL&nbsp;:clicked) { $qApp.quit }
</pre>
<p>And emit signals like this:
</p>
<pre>      emit colorChanged( black )
</pre>
<a name="Constructors"></a><h2><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=9" title="Edit section: Constructors">edit</a>]</span> <span class="mw-headline">Constructors</span></h2>
<p>You can call constructors in the conventional style:
</p>
<pre>      quit = Qt::PushButton.new("Quit", self, "quit")
</pre>
<p>Or you can pass a block if you prefer:
</p>
<pre>      w = MyWidget.new { setCaption("foobar") }
</pre>
<p>The block will be called in the context of the newly created instance.
</p><p>Ordinary arguments can be provided as well as a block at the end:
</p>
<pre>      w = MyWidget.new(nil) { setCaption("foobar") }
</pre>
<p>They are run in the context of the new instance.
</p><p>And there's more! You can also pass an arg to the block, and it will be run in the context of the arg:
</p>
<pre>      w = MyWidget.new { |theWidget| theWidget.setCaption "foobar" }
</pre>
<a name="Garbage_Collection"></a><h2><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=10" title="Edit section: Garbage Collection">edit</a>]</span> <span class="mw-headline">Garbage Collection</span></h2>
<p>When a ruby instance is garbage collected, the underlying C++ instance will only be deleted if it isn't 'owned' by a parent object. Normally this will 'just work', but there are occasions when you need to delete the C++ ahead of garbage collection, and whether or not it has a parent. Use the dispose(), isDisposed() and disposed? methods like this:
</p>
<pre>      item2.dispose
      if item2.disposed?
      	puts "item2 is disposed"
      end
</pre>
<a name="C.2B.2B_.27int.2A.27_and_.27int.26.27_argument_types"></a><h2><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=11" title="Edit section: C++ 'int*' and 'int&amp;' argument types">edit</a>]</span> <span class="mw-headline">C++ 'int*' and 'int&amp;' argument types</span></h2>
<p>Ruby passes numeric values by value, and so they can't be changed when passed to a method. The Qt::Integer class provides a mutable numeric type which does get updated when passed as an argument. For example, this C++ method 'findByFileContent()':
</p>
<pre>      # static Ptr findByFileContent( const QString &amp;fileName, 
      #                               int *accuracy=0 );

      acc = Qt::Integer.new(0)
      fc = KDE::MimeType.findByFileContent("mimetype.rb", acc)

</pre>
<p>It supports the arithmetic operators, and so expressions such as 'acc + 3' will work.
</p>
<a name="C.2B.2B_.27bool.2A.27_and_.27bool.26.27_argument_types"></a><h2><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=12" title="Edit section: C++ 'bool*' and 'bool&amp;' argument types">edit</a>]</span> <span class="mw-headline">C++ 'bool*' and 'bool&amp;' argument types</span></h2>
<p>There is a similar problem for bool arg types, and the mutable Qt::Boolean class can be used like this:
</p>
<pre>      # QFont getFont(bool * ok, const QFont&amp;initial, 
      #               QWidget* parent = 0, const char *name = 0);		
		
      ok = Qt::Boolean.new
      font = Qt::FontDialog.getFont(ok, 
                          Qt::Font.new("Helvetica [Cronyx]", 10), 
                          self)
      if&nbsp;!ok.nil? 
      	# font is set to the font the user selected
      else 
      	# the user canceled the dialog
      end
</pre>
<p>Use 'nil?' to test the value returned in the Boolean
</p>
<a name="C.2B.2B_.28const_.29.28unsigned_.29char.2A_argument_types"></a><h2><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=13" title="Edit section: C++ (const )(unsigned )char* argument types">edit</a>]</span> <span class="mw-headline">C++ (const )(unsigned )char* argument types</span></h2>
<p>In some cases Qt/KDE object "takes ownership" over Ruby String passed as char* argument type. Programmer needs to make sure that Ruby String is not being garbage collected or changed for the time it's being used by Qt/KDE object. It is also quite possible that Qt/KDE object will change and eventually free it(memory used internally by Ruby String to store its data). Be very careful when you call this kind of methods and make sure that there is no overloaded version witch accepts QString or QByteArray first!
</p>
<a name="C.2B.2B_unsigned_char.2A_functions"></a><h2><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=14" title="Edit section: C++ unsigned char* functions">edit</a>]</span> <span class="mw-headline">C++ unsigned char* functions</span></h2>
<p>Very few functions (as QImage::bits()) return a uchar* to directly manipulate data. These functions are not supported in Ruby and will throw an ArgumentError. More information on the <a href="http://lists.kde.org/?l=kde-bindings&amp;m=122899325331866&amp;w=2" class="external text" title="http://lists.kde.org/?l=kde-bindings&amp;m=122899325331866&amp;w=2" rel="nofollow">mail list</a>.
</p>
<a name="Debugging"></a><h2><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=15" title="Edit section: Debugging">edit</a>]</span> <span class="mw-headline">Debugging</span></h2>
<p>If a method call can't be matched in the Smoke library giving a 'method_missing' error, you can turn on debugging to trace the matching process:
</p>
<pre>      a = Qt::Application.new(ARGV)
      Qt.debug_level = Qt::DebugLevel::High
      a.loadLibrary("foo")  # Non existent method
</pre>
<p>Will give the following output:
</p>
<pre>      classname    == QApplication
     &nbsp;:: method == loadLibrary$
      -&gt; methodIds == []
      candidate list:
      Possible prototypes:
          static QWidget* QApplication::widgetAt(int, int, bool)
			...
</pre>
<p>Here, the list of candidate methods 'methodIds' is empty
</p><p>Another debugging mechanism allows various trace 'channels' to be switched on.
</p><p>You can trace virtual method callbacks:
</p>
<pre>      Qt::Internal::setDebug(Qt::QtDebugChannel::QTDB_VIRTUAL)
</pre>
<p>Or trace QtRuby garbage collection:
</p>
<pre>      Qt::Internal::setDebug(Qt::QtDebugChannel::QTDB_GC)
</pre>
<a name="String_i18n"></a><h2><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=16" title="Edit section: String i18n">edit</a>]</span> <span class="mw-headline">String i18n</span></h2>
<p>QtRuby supports $KCODE values of 'u', 'e' and 's' or the corresponding '-K' options from the command line. Qt Designer .ui files have UTF-8 strings so if you use any 8 bit UTF-8 characters, you will need to set $KCODE='u' or use the -Ku command line option.
</p>
<a name="Other_capabilities_and_offerings"></a><h1><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=17" title="Edit section: Other capabilities and offerings">edit</a>]</span> <span class="mw-headline">Other capabilities and offerings</span></h1>
<a name="Qt_Designer"></a><h2><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=18" title="Edit section: Qt Designer">edit</a>]</span> <span class="mw-headline">Qt Designer</span></h2>
<p>A 'rbuic4' tool is included in qtruby/tools/rbuic to compile .ui files into ruby code. As described above, Qt Designer uses UTF-8. In addition to the options in the original uic C++ utility an '-x' flag has been added. This will generate a top level stub in the code:
</p>
<pre>      $ rbuic mainform.ui -x -o mainform.rb
</pre>
<p>Will add this to the end of the generated code:
</p>
<pre>      if $0 == __FILE__
          a = Qt::Application.new(ARGV)
          w = MainForm.new
          w.show
          a.exec
      end
</pre>
<p>Then you can test the example code straight away:
</p>
<pre>      $ ruby mainform.rb
</pre>
<p>Use the '-kde' option to require the 'korundum4' extension rather than the 'Qt4' one. If the '-x' option is used in conjunction, it generates a KDE top level. For example:
</p>
<pre>      $ rbuic4 -x -kde knotifywidgetbase.ui -o knotifywidgetbase.rb
</pre>
<p>Will generate this top level code:
</p>
<pre>      if $0 == __FILE__
      	about = KDE::AboutData.new("knotifywidgetbase", 
		                           "KNotifyWidgetBase", "0.1")
      	KDE::CmdLineArgs.init(ARGV, about)
        a = KDE::Application.new()
    	w = KNotifyWidgetBase.new
    	w.show
    	a.exec
      end
</pre>
<a name="Loading_.ui_files_at_runtime_with_Qt::UILoader"></a><h2><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=19" title="Edit section: Loading .ui files at runtime with Qt::UILoader">edit</a>]</span> <span class="mw-headline">Loading .ui files at runtime with Qt::UILoader</span></h2>
<div class="rbroundbox" style="width:400px; float:center"><div class="rbtopwrap"><div class="rbtop"><div></div></div>Warning</div>
<div class="rbcontent"><div class="floatleft"><span><a href="/Image:Action_stop.svg" class="image" title="noframe"><img alt="noframe" src="/images/thumb/c/cd/Action_stop.svg/40px-Action_stop.svg.png" width="40" height="40" border="0" /></a></span></div>
<p><b>This section needs improvements</b>: Please help us to
<i>cleanup</i> confusing sections and
<i>fix sections</i> which contain a <b>todo</b> 
</p>
 <br /> Remove example that does not work   <div class="clear"></div></div>
<div class="rbbot"><div></div></div>
</div>
<p><br />
</p><p><br />
You can load a Qt Designer .ui file at runtime with the 'quiloader' extension, for example:
</p>
<pre>      require 'Qt4'
      require 'quiloader'

      a = Qt::Application.new(ARGV)
      if ARGV.length == 0
        exit
      end

      if ARGV.length == 2
        QUI::WidgetFactory.loadImages ARGV[0]
        w = QUI::WidgetFactory.create ARGV[1]
        if w.nil?
          exit
        end
        w.show()
        a.connect(a, SIGNAL('lastWindowClosed()'), a, SLOT('quit()'))
        a.exec()
      end
</pre>
<p>With new version API changed a little.
</p>
<pre>      require 'Qt4'
      require 'qtuitools'

      a = Qt::Application.new(ARGV)
      if ARGV.length == 0
        exit
      end

      if ARGV.length == 1
        file = Qt::File.new(ARGV[1])
        file.open(Qt::File::ReadOnly)

        loader = Qt::UiLoader.new
        window = loader.load(file, nil)
        file.close
</pre>
<pre>        if (window.nil?)
          print "Error. Window is nil.\n"
          exit
        end
        window.show
        a.connect(a, SIGNAL('lastWindowClosed()'), a, SLOT('quit()'))
        a.exec
      end
</pre>
<a name="API_reference"></a><h2><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=20" title="Edit section: API reference">edit</a>]</span> <span class="mw-headline">API reference</span></h2>
<p>Use the bin/rbqtapi tool to discover which methods are available in the QtRuby api. This command:
</p>
<pre>	  $ rbqtapi Qt::TextEdit
</pre>
<p>Will list all the methods in the Qt::TextEdit class
</p>
<pre>	  $ rbqtapi -rsetCaption 
</pre>
<p>Lists all methods whose names contain the string 'setCaption'
</p>
<a name="Example_programs"></a><h2><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=21" title="Edit section: Example programs">edit</a>]</span> <span class="mw-headline">Example programs</span></h2>
<p>The best way to start programming QtRuby is to look at some existing code and start messing with it.. The are various samples under qtrubyexamples and korundum/examples.
</p>
<a name="KDE_Specific_Infomation"></a><h1><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=22" title="Edit section: KDE Specific Infomation">edit</a>]</span> <span class="mw-headline">KDE Specific Infomation</span></h1>
Instead of <pre>require 'Qt4'</pre>, use <pre>require 'korundum4'</pre> for KDE programs.
<p>The KDE K* classes such as KApplication are renamed as KDE::Application. The other KDE classes are in the KParts::, KIO:: or DOM:: namespaces, with the same names as their C++ counterparts.
</p><p>Use the 'rbkdeapi' script to introspect the Korundum api from the command line. For example:
</p>
<pre>      $ rbkdeapi KDE::Action
</pre>
<p>Will list all the methods in the KDE::Action class. There are currently (as at KDE 3.3 beta 2) 977 classes/30841 methods in the Smoke library runtime, so the coverage of the Qt/KDE api is pretty complete.
</p>
<a name="Build_dependencies"></a><h1><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=23" title="Edit section: Build dependencies">edit</a>]</span> <span class="mw-headline">Build dependencies</span></h1>
<ul><li> ruby 1.8 or greater (svn trunk works with 1.9.1)
</li><li> cmake 2.6 or greater
</li><li> Qt 4.0 or greater
</li><li> KDE 4.1 or greater (for korundum)
</li></ul>
<a name="Tutorials"></a><h1><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=24" title="Edit section: Tutorials">edit</a>]</span> <span class="mw-headline">Tutorials</span></h1>
<p>There is a ruby translation of <a href="http://developer.kde.org/language-bindings/ruby/tutorial/tutorial.html" class="external text" title="http://developer.kde.org/language-bindings/ruby/tutorial/tutorial.html" rel="nofollow">Qt Tutorial #1</a>, and the corresponding ruby code is in qtruby/rubylib/tutorial/t1 to t14.
</p><p>And a Qt4 version of the same tutorial translated to Ruby by Darshan Ishaya <a href="http://www.darshancomputing.com/qt4-qtruby-tutorial/" class="external text" title="http://www.darshancomputing.com/qt4-qtruby-tutorial/" rel="nofollow">Qt4 Tutorial #1</a> 
</p><p><a href="http://developer.kde.org/language-bindings/ruby/tutorial2/tutorial2.html" class="external text" title="http://developer.kde.org/language-bindings/ruby/tutorial2/tutorial2.html" rel="nofollow">Qt Tutorial #2</a>, a Charting Application with ruby code in qtruby/rubylib/examples/qt-examples/chart.
</p><p>The Qt Designer <a href="http://developer.kde.org/language-bindings/ruby/colortooltutorial/designer-manual-3.html" class="external text" title="http://developer.kde.org/language-bindings/ruby/colortooltutorial/designer-manual-3.html" rel="nofollow">Color Tool Tutorial</a>, with ruby code in qtruby/rubylib/designer/examples/colortool.
</p><p>Paul Lutus has written a tutorial on how to get started with <a href="http://www.arachnoid.com/ruby/RubyGUIProject/index.html" class="external text" title="http://www.arachnoid.com/ruby/RubyGUIProject/index.html" rel="nofollow">Ruby GUI programming with Qt</a>
</p><p>For KDE, there is a ruby translation of this <a href="http://developer.kde.org/language-bindings/ruby/kde3tutorial/index.html" class="external text" title="http://developer.kde.org/language-bindings/ruby/kde3tutorial/index.html" rel="nofollow">KDE 3.0 tutorial</a> originally written for C++ by Antonio Larrosa Jiménez. The sources are in korundum/rubylib/tutorials/p1 to p9.
</p><p>The book <a href="http://www.pragmaticprogrammer.com/titles/ctrubyqt/" class="external text" title="http://www.pragmaticprogrammer.com/titles/ctrubyqt/" rel="nofollow">Rapid GUI Development with QtRuby</a> is now available.
</p>
<a name="Download"></a><h1><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=25" title="Edit section: Download">edit</a>]</span> <span class="mw-headline">Download</span></h1>
<p>You can obtain recent SVN snapshots on the Rubyforge <a href="http://rubyforge.org/projects/korundum/" class="external text" title="http://rubyforge.org/projects/korundum/" rel="nofollow">QtRuby/Korundum site</a>.
</p>
<a name="More_help"></a><h1><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=26" title="Edit section: More help">edit</a>]</span> <span class="mw-headline">More help</span></h1>
<p>There are two IRC channels (<tt>#qtruby</tt> and <tt>#kde-ruby</tt>) in <a href="http://www.freenode.net" class="external text" title="http://www.freenode.net" rel="nofollow">FreeNode</a>. If you prefer e-mail, you can use the <a href="http://mail.kde.org/mailman/listinfo/kde-bindings" class="external text" title="http://mail.kde.org/mailman/listinfo/kde-bindings" rel="nofollow">kde-bindings mailing-list</a> (low traffic) or ask in the <a href="http://www.ruby-lang.org/en/20020104.html" class="external text" title="http://www.ruby-lang.org/en/20020104.html" rel="nofollow">ruby-talk</a> mailing list (you may use the <a href="http://www.ruby-forum.com/" class="external text" title="http://www.ruby-forum.com/" rel="nofollow">Ruby Forum</a> gateway to post in ruby-talk from web).
</p>
<a name="More_information"></a><h1><span class="editsection">[<a href="/index.php?title=Development/Languages/Ruby&amp;action=edit&amp;section=27" title="Edit section: More information">edit</a>]</span> <span class="mw-headline">More information</span></h1>
<p>A series of articles on ruby QT (inspired by the work done for the <a href="http://dradis.nomejortu.com" class="external text" title="http://dradis.nomejortu.com" rel="nofollow">dradis</a> project):
</p>
<ul><li> <a href="http://weblog.nomejortu.com/x-windows/ruby-workshop-the-way-of-the-qt-samurai" class="external text" title="http://weblog.nomejortu.com/x-windows/ruby-workshop-the-way-of-the-qt-samurai" rel="nofollow">ruby workshop: the way of the Qt samurai</a>
</li><li> <a href="http://weblog.nomejortu.com/x-windows/ruby-qt-model-view-controller" class="external text" title="http://weblog.nomejortu.com/x-windows/ruby-qt-model-view-controller" rel="nofollow">ruby Qt: model / view / controller</a>
</li><li> <a href="http://weblog.nomejortu.com/x-windows/ruby-qt-menu-bar-status-bar-and-resources" class="external text" title="http://weblog.nomejortu.com/x-windows/ruby-qt-menu-bar-status-bar-and-resources" rel="nofollow">ruby Qt: menu bar, status bar and resources</a>
</li><li> <a href="http://weblog.nomejortu.com/x-windows/ruby-qt-custom-widget-example" class="external text" title="http://weblog.nomejortu.com/x-windows/ruby-qt-custom-widget-example" rel="nofollow">ruby Qt custom widget example</a>
</li><li> <a href="http://weblog.nomejortu.com/x-windows/ruby-qttreewidget-example" class="external text" title="http://weblog.nomejortu.com/x-windows/ruby-qttreewidget-example" rel="nofollow">ruby Qt::TreeWidget example</a>
</li></ul>

<!-- 
NewPP limit report
Preprocessor node count: 135/1000000
Post-expand include size: 3399/2097152 bytes
Template argument size: 1173/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key wwwdeveloper:pcache:idhash:5026-0!1!0!!en!2 and timestamp 20090326090023 -->
<div class="printfooter">
Retrieved from "<a href="http://techbase.kde.org/Development/Languages/Ruby">http://techbase.kde.org/Development/Languages/Ruby</a>"</div>
										<div id="catlinks"><div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="/Special:Categories" title="Special:Categories">Category</a>:&#32;<span dir='ltr'><a href="/Category:Ruby" title="Category:Ruby">Ruby</a></span></div></div></div>										<!-- end content -->
										<div class="visualClear"></div>
									</div>
								</div>
									</div>
									</div>
	<div id='left'>
		<!-- Search Menu -->
		<div class="menu_box">
			<form action="/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="fulltext" class="searchButton" value="Search" />
			</div></form>
		</div>
	<!-- End of Search Menu -->
		
		<!-- Main Menu -->
	<div class="menutitle"><div>
		<h2>Navigation</h2>
		</div></div>
			<div class='menu_box'>
			<ul>
				<li id="n-Home"><a href="/Welcome_to_KDE_TechBase">Home</a></li>
				<li id="n-help"><a href="/Help:Contents">Help</a></li>
				<li id="n-recentchanges"><a href="/Special:RecentChanges">Recent changes</a></li>
			</ul>
		<!-- Main Menu -->
	<div class="menutitle"><div>
		<h2>Sections</h2>
		</div></div>
			<div class='menu_box'>
			<ul>
				<li id="n-Getting-started"><a href="/Getting_Started">Getting started</a></li>
				<li id="n-Development"><a href="/Development">Development</a></li>
				<li id="n-Schedules"><a href="/Schedules">Schedules</a></li>
				<li id="n-Policies"><a href="/Policies">Policies</a></li>
				<li id="n-Contribute"><a href="/Contribute">Contribute</a></li>
				<li id="n-Projects"><a href="/Projects">Projects</a></li>
			</ul>
			</div>	
	<!-- Toolbox Menu -->
	<div class="menutitle"><div>
		<h2>Toolbox</h2>
		</div></div>
		<div class="menu_box">
			<ul>
				<li id="t-whatlinkshere"><a href="/Special:WhatLinksHere/Development/Languages/Ruby">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/Special:RecentChangesLinked/Development/Languages/Ruby">Related changes</a></li>
<li id="t-upload"><a href="/Special:Upload">Upload file</a></li>
<li id="t-specialpages"><a href="/Special:SpecialPages">Special pages</a></li>
				<li id="t-print"><a href="/index.php?title=Development/Languages/Ruby&amp;printable=yes">Printable version</a></li>				<li id="t-permalink"><a href="/index.php?title=Development/Languages/Ruby&amp;oldid=39362">Permanent link</a></li>			</ul>
		</div>
		<!-- End of Tool Box Menu -->

	<div class="menutitle"><div><h2>Personal tools</h2></div></div>
		<div class="pBody">
		<div class="menu_box">
			<ul>
				<li id="pt-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Development/Languages/Ruby">Log in / create account</a></li>
				<li id="pt-openidlogin"><a href="/index.php?title=Special:OpenIDLogin&amp;returnto=Development/Languages/Ruby">Login with OpenID</a></li>
			</ul>
		</div>
		</div>
	</div>
		<!-- End of Personal Tools Menu -->
		</div>
		</div>
		<!-- Presume this is the end of the BODY -->
		
		</div>
		<div class="clear"></div>
		<div id="footer"><div id="footer_text">
<!--		Maintained by <a href="mailto:kde-www@kde.org">KDE webmasters</a><br />-->
        KDE<sup>&#174;</sup> and <a href="/media/images/kde_gear_black.png">the K Desktop Environment<sup>&#174;</sup> logo</a> are registered trademarks of <a href="http://ev.kde.org/" title="Homepage of the KDE non-profit Organization">KDE e.V.</a> |
        <a href="http://www.kde.org/contact/impressum.php">Legal</a>
		</div></div>
	</body>
</html>
