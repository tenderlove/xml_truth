<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Riding Rails</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <link rel="alternate" type="application/atom+xml" title="Atom" href="http://feeds.feedburner.com/RidingRails" />
  <link href="/stylesheets/rails.css" media="screen" rel="Stylesheet" type="text/css" />
  <link rel="stylesheet" type="text/css" media="print" href="/stylesheets/print.css" />
  <link href="/stylesheets/weblog.css" rel="stylesheet" type="text/css" />
<script src="/javascripts/mephisto/prototype.js" type="text/javascript">
</script>
<script src="/javascripts/mephisto/effects.js" type="text/javascript">
</script>
<script type="text/javascript">
</script>
</head>

<body id="weblog">
  <div id="container">
    <div id="Header">
    <div id="Nav">
<a href="http://rubyonrails.org/">Overview</a> |
<a href="http://rubyonrails.org/download">Download</a> |
<a href="http://rubyonrails.org/deploy">Deploy</a> |
<a href="http://rails.lighthouseapp.com/projects/8994-ruby-on-rails/overview">Code</a> |
<a href="http://rubyonrails.org/screencasts">Screencasts</a> |
<a href="http://rubyonrails.org/documentation">Documentation</a> |
<a href="http://rubyonrails.org/ecosystem">Ecosystem</a> |
<a href="http://rubyonrails.org/community">Community</a> |
<a href="http://weblog.rubyonrails.org/">Blog</a>
    </div>
    </div>

    <div class="c" style="margin-top: 40px">
      <div id="sidebar">
        <a href="/"><img src="http://www.rubyonrails.org/images/rails.png" width="87" height="112" style="margin-bottom: 20px" border="0" /></a>
        <div id="search">
          <form action="/search" id="sform" method="get" name="sform">
            <label for="q">Search:</label><input type="text" id="q" name="q" value="" size="15" /><br />
            <small>search is working now...</small>
         </form><br />
        </div>

        <div class="sidebar-node">
					<h3>Job Board</h3>
					<div style="font-size: 13px; font-family: georgia; margin-bottom: 20px; width: 120px">
						<script language="JavaScript" src="http://www.37signals.com/svn/job.fcgi"></script>
					</div>
				</div>

        <div class="sidebar-node">
					<h3>Worth attention</h3>
          <ul id="categories">
            <li><a href="http://rubyonrailsworkshops.com/">Workshops</a></li>
            <li><a href="http://podcast.rubyonrails.org/">Podcast</a></li>
          </ul>
				</div>

        <div class="sidebar-node">
          <h3>Categories</h3>
          <ul id="categories">
            <li><a href="/documentation">Documentation</a></li>
            <li><a href="/general">General</a></li>
            <li><a href="/horizon">Horizon</a></li>
            <li><a href="/jobs">Jobs</a></li>
            <li><a href="/launches">Launches</a></li>
            <li><a href="/praise">Praise</a></li>
            <li><a href="/releases">Releases</a></li>
            <li><a href="/sightings">Sightings</a></li>
            <li><a href="/tricks">Tricks</a></li>
            <li><a href="/edge">Edge</a></li>
            <li><a href="/activism">Activism</a></li>
          </ul>
        </div>
        <div class="sidebar-node">
          <h3>Syndicate</h3>
          <ul>
            <li><a href="http://feeds.feedburner.com/RidingRails" title="Articles feed">Articles</a></li>
          </ul>
        </div>
        <div class="sidebar-node">
          <ul>
            <li>Powered by <a href="http://mephistoblog.com">Mephisto</a></li>
          </ul>
        </div>
      </div>
      <div id="content">
        
  <div class="blogEntry">
    <div class="post">
      <h2><a href="/2009/3/20/this-week-in-edge-rails">This Week in Edge Rails</a></h2>
      <p class="metaData">Posted by Mike Gunderloy March 20, 2009 @ 02:52 PM</p>
      <h3>March 14, 2009 &#8211; March 20, 2009</h3>


	<p>The big news in Rails this week, of course, was the <a href="http://weblog.rubyonrails.org/2009/3/16/rails-2-3-templates-engines-rack-metal-much-more">release of Rails 2.3</a>. But that certainly doesn&#8217;t mean the Rails edge story is over! To the contrary, we&#8217;re embarking on one of the more ambitious and exciting Rails projects of all: the creation of Rails 3.0. Read on to see where things stand.</p>


	<p><b>Final 2.3 Changes</b><br /></p>


	<p>A few things went in to Rails 2.3 in the days leading up to release. These include:</p>


	<ul>
	<li><span class="caps">DDL</span> transactions for SQLite databases <a href="http://github.com/rails/rails/commit/ac3848201dfd7400708d3ccae0acb9388318fb99">commit</a></li>
		<li>Compatibility between <code>render :file</code> and <code>Pathname</code> <a href="http://github.com/rails/rails/commit/7706b57034e91820cf83445aede57c54ab66ac2d">commit</a></li>
		<li>ActionController class naming conventions for Metal <a href="http://github.com/rails/rails/commit/5f10533949457e3797c8f0b51eb30a9268bceb4d">commit</a></li>
	</ul>


	<p><b> Rails 2.3.2.1</b><br /></p>


	<p>Shortly after the release of Rails 2.3, which was version 2.3.2, it became necessary to make a Rails 2.3.2.1 tag. This is because the tagged 2.3.2 version in the Rails repository is actually missing an important fix (the installable gem version of Rails has the fix). The net result is that <code>rake rails:freeze:edge RELEASE=2.3.2</code> would freeze a bad version of Rails into your application.</p>


	<p>To fix this, the Rails team has re-tagged the master tree at a safer spot, after the critical fix. This new tag is for release 2.3.2.1. So if youâ€™re freezing Rails 2.3 into your applications (as opposed to running it from gems) be sure to use <code>rake rails:freeze:edge RELEASE=2.3.2.1</code>. That .1 makes all the difference.</p>


	<p><b>The Road to Rails 3.0</b><br /></p>


	<p>Now that 2.3 is out, what&#8217;s next? Rails 3.0, which has been a distant speck on the horizon for a while, is rapidly getting closer. The Rails core team is discussing exactly how to proceed, but the bottom line is that you are shortly going to see a <em>lot</em> of changes on edge Rails, as work that&#8217;s been going on in various forks gets merged back into the master branch. You&#8217;ll want to be cautious about using edge on existing applications. In particular, changes to the Rails internals may result in many plugins needing to be rewritten. Rails edge will continue to be the cutting-edge solution, but you&#8217;ll need to keep up with the changes and be prepared to work with them if you choose to run on edge.</p>


	<p>But this doesn&#8217;t mean that Rails 2 is frozen in time either. There&#8217;s a new <a href="http://github.com/rails/rails/commits/2-3-stable">2-3-stable</a> branch in the Rails repository which will host any maintenance releases to the current release version. There will continue to be some work on making sure the 2.x releases of Rails work well, though the center of gravity of Rails framework development will shift quickly to Rails 3.0.</p>


	<p>So stay tuned. We&#8217;ll continue to keep you posted with Rails 3.0 developments as they happen: the process will continue, as always, to be transparent and to welcome ideas and feedback.</p>

      <p class="meta">Posted in <a class="selected" href="/edge">Edge</a>
 <strong>|</strong>&nbsp;
<a href="/2009/3/20/this-week-in-edge-rails">12 comments</a></p>
      </div>
  </div>

  <div class="blogEntry">
    <div class="post">
      <h2><a href="/2009/3/19/get-paid-to-work-on-rails">Get Paid to Work on Rails</a></h2>
      <p class="metaData">Posted by Mike Gunderloy March 19, 2009 @ 11:35 AM</p>
      <p>Last year, as you may recall, Rails got <a href="http://weblog.rubyonrails.org/2008/8/16/josh-peek-officially-joins-the-rails-core">thread safety and a new core committer</a> thanks to our participation in the <a href="http://code.google.com/soc/">Google Summer of Code</a> program under the auspices of <a href="http://rubycentral.org/">Ruby Central</a>. This year, we&#8217;re pleased to announce, Ruby on Rails has been accepted into Google Summer of Code as a <a href="http://rubycentral.org/">sponsoring organization</a> in its own right.</p>


	<p>What does this mean to you? Potentially, if you&#8217;re the right person, you can get <em>paid</em> to work on the Rails core code this summer!</p>


	<p>The &#8220;right person&#8221; in this case is one who is at least 18 years old (sorry, Google&#8217;s rule, not ours!), a full- or part-time college student, and passionate about improving Rails. We&#8217;re building a potential list of <a href="http://wiki.rubyonrails.org/gsoc/2009/ideas">project ideas</a> on the Rails wiki, but we welcome other interesting proposals. We&#8217;re especially interested in work that meshes well with the <a href="http://weblog.rubyonrails.org/2008/12/23/merb-gets-merged-into-rails-3">plans for Rails 3.0</a>, which will be in full swing by the time GSoC launches. If your proposal gets accepted, Google will pay you $4500 over the course of three months to work on the code.</p>


	<p>If you&#8217;re interested, head over to the <a href="http://socghop.appspot.com/">GSoC site</a> and start reading about the process. Student applications can be submitted starting March 23.</p>


	<p>What if you&#8217;re not a student? You can still help out by brainstorming ideas on the Rails wiki. Or if you&#8217;re a Rails guru and ready to make a strong commitment to help out the next generation of developers, you can <a href="http://socghop.appspot.com/org/apply_mentor/google/gsoc2009">apply to be a mentor</a>.</p>


	<p>We&#8217;re looking forward to working with this year&#8217;s students, and expecting some outstanding contributions to Rails as a result!</p>

      <p class="meta">Posted in <a href="/activism">Activism</a>, 
 <a href="/jobs">Jobs</a>
 <strong>|</strong>&nbsp;
<a href="/2009/3/19/get-paid-to-work-on-rails">0 comments</a></p>
      </div>
  </div>

  <div class="blogEntry">
    <div class="post">
      <h2><a href="/2009/3/16/rails-2-3-templates-engines-rack-metal-much-more">Rails 2.3: Templates, Engines, Rack, Metal, much more!</a></h2>
      <p class="metaData">Posted by David March 16, 2009 @ 02:39 PM</p>
      <p>Rails 2.3 is finally done and out the door. This is one of the most substantial upgrades to Rails in a very long time. A brief rundown of the top hitters:</p>


	<ul>
	<li><strong>Templates</strong>: Allows your new skeleton Rails application to be built your way with your default stack of gems, configs, and more.</li>
		<li><strong>Engines</strong>: Share reusable application pieces complete with routes that Just Work, models, view paths, and the works.</li>
		<li><strong>Rack</strong>: Rails now runs on Rack which gives you access to all the middleware goodness.</li>
		<li><strong>Metal</strong>: Write super fast pieces of optimized logic that routes around Action Controller.</li>
		<li><strong>Nested forms</strong>: Deal with complex forms so much easier.</li>
	</ul>


	<p>And that&#8217;s just the tip of the iceberg. We&#8217;ve put together a complete guide for <a href="http://guides.rubyonrails.org/2_3_release_notes.html">the Rails 2.3 release notes</a> with much more information. Be sure to checkout the section on <a href="http://guides.rubyonrails.org/2_3_release_notes.html#deprecated">what was deprecated</a> when you&#8217;re ready to upgrade your application.</p>


	<p>You install 2.3 with (the final version is marked <a href="http://github.com/rails/rails/tree/v2.3.2">2.3.2</a>):</p>


<code>gem install rails</code>

	<p>If you&#8217;re running on Passenger, be sure to <a href="http://blog.phusion.nl/2009/03/13/phusion-passenger-212-final-released/">upgrade to 2.1.2</a> as well. Rails 2.3 doesn&#8217;t run on older versions of Passenger!</p>


	<p>We hope you&#8217;ll love it.</p>

      <p class="meta">Posted in <a href="/releases">Releases</a>
 <strong>|</strong>&nbsp;
<a href="/2009/3/16/rails-2-3-templates-engines-rack-metal-much-more">96 comments</a></p>
      </div>
  </div>

  <div class="blogEntry">
    <div class="post">
      <h2><a href="/2009/3/13/this-week-in-edge-rails">This Week in Edge Rails</a></h2>
      <p class="metaData">Posted by Mike Gunderloy March 13, 2009 @ 12:22 PM</p>
      <h3>March 6, 2009 &#8211; March 13, 2009</h3>


	<p>Things have been pretty busy on the development side since the release of <a href="http://weblog.rubyonrails.org/2009/3/5/rails-2-3-rc2-final-stop-before-release">Rails 2.3 <span class="caps">RC2</span></a>. The core team has been making a serious effort to review all of the open bugs and patches with an eye towards getting us a solid release. At this point, the bar for new features is set fairly high, but even so, there have been an incredible 94 commits in the week since <span class="caps">RC2</span> &#8211; mostly fixes to ensure expected behavior and stability. Here are some of the highlights.</p>


	<h2>Swappable Parsers for XMLmini</h2>


	<p>The support for <span class="caps">XML</span> parsing in ActiveSupport has been made more flexible by allowing you to swap in different parsers. By default, it uses the standard <span class="caps">REXML</span> implementation, but you can easily specify the faster LibXML or Nokogiri implementations for your own applications, provided you have the appropriate gems installed:</p>


<pre><code>
XmlMini.backend = 'LibXML'
XmlMini.backend = 'Nokogiri'
</code></pre>

	<p><a href="http://github.com/rails/rails/commit/822c41d69d9228c9912d29ac45155d3a16bb5c50">commit</a> <a href="http://github.com/rails/rails/commit/694998ee4fb8d257ba78424cab630846327a0889">commit</a></p>


	<h2>rake gem Task Rewrite</h2>


	<p>The internals of the various <code>rake gem</code> tasks have been substantially revised, to make the system work better for a variety of cases. The gem system now knows the difference between development and runtime dependencies, has a more robust unpacking system, gives better information when querying for the status of gems, and is less prone to &#8220;chicken and egg&#8221; dependency issues when you&#8217;re bringing things up from scratch. There are also fixes for using gem commands under JRuby and for dependencies that try to bring in external copies of gems that are already vendored.</p>


	<p><a href="http://github.com/rails/rails/commit/99d75a7b02bf430a124b9c3e2515850959d78acf">commit</a> <a href="http://github.com/rails/rails/commit/5b751ae0b3f6c10a1053e4a2e04fd92d228d787f">commit</a> <a href="http://github.com/rails/rails/commit/9d906707bea997016fd370e33e12dbc21cfcc531">commit</a></p>


	<h2>Routing Fixes</h2>


	<p>A couple of small fixes to the routing engine. First, member routes with requirements now work (previously the requirements were ignored):</p>


<pre><code>
map.resources :orders, 
  :requirements =&gt; { :id =&gt; %r([^/;,?]+) }, 
  :member =&gt; { :accept =&gt; :get }
</code></pre>

	<p><a href="http://github.com/rails/rails/commit/5b7527ca44521edf9782b3d7f449bf09a29267f2">commit</a></p>


	<p>Also, shallow routes now work properly with namespaces (<a href="http://github.com/rails/rails/commit/5c87e9adddc22703a3dbbb785e32fafe0e91ce78">commit</a>) and you can now use the <code>OPTIONS</code> verb in route conditions (<a href="http://github.com/rails/rails/commit/5e0f6214d2421a4931c85ee6a239158c69e57b65">commit</a>).</p>


	<h2>Client-side Caching Improvements</h2>


	<p>The <code>expires_in</code>, <code>stale</code>, and <code>fresh_when</code> methods now accept a <code>:public</code> option to make them work well with proxy caching.</p>


<pre><code>
expires_in 10.minutes, :public =&gt; true
fresh_when :last_modified =&gt; @user.updated_at.utc, 
  :public =&gt; true
fresh_when :etag =&gt; @user, :public =&gt; true
</code></pre>

	<p><a href="http://github.com/rails/rails/commit/f2a32bd0dedf11021027e36cc2c99f97434cae17">commit</a></p>


	<h2>Odds and Ends</h2>


	<p>The <code>String#parameterize</code> method now accepts an optional separator character.</p>


<pre><code>
"My big duck".parameterize =&gt;      "my-big-duck" 
"My big duck".parameterize('_') =&gt; "my_big_duck" 
</code></pre>

	<p><a href="http://github.com/rails/rails/commit/20d3892f46c553e8ca3d4e8d223a3bd92789556d">commit</a></p>


	<p>The <code>ActiveRecord::Base#invalid?</code> method now works as the opposite of <code>ActiveRecord::Base#valid?</code>. (<a href="http://github.com/rails/rails/commit/96eaeee4467a03cba3c4c30aeb6fc6afe545ae1d">commit</a>)</p>


	<p>The <code>ActiveSupport::Json.decode</code> method now handles <code>\u0000</code> style escape sequences. (<a href="http://github.com/rails/rails/commit/9b9b2937ce3bef3bca9d22821e76c40cc74fa689">commit</a>)</p>


	<p>You can now set content types such as <code>multipart/mixed</code> in Action Mailer. (<a href="http://github.com/rails/rails/commit/1dff106888d671dac07f93711ecb319170132c56">commit</a>)</p>


	<p>Rails 2.3 will ship with a bundled version of Rack, but if you have Rack 1.0 installed as a gem it will use the gem version instead. (<a href="http://github.com/rails/rails/commit/0a887e2386a827f554c685dccf91701bb38422b5">commit</a>)</p>

      <p class="meta">Posted in <a class="selected" href="/edge">Edge</a>
 <strong>|</strong>&nbsp;
<a href="/2009/3/13/this-week-in-edge-rails">3 comments</a></p>
      </div>
  </div>

  <div class="blogEntry">
    <div class="post">
      <h2><a href="/2009/3/11/rails-guides-gets-a-team-and-a-mailing-list">Update on Rails Guides and Documentation</a></h2>
      <p class="metaData">Posted by Pratik Naik March 11, 2009 @ 06:57 PM</p>
      <p>We have been working on the <a href="http://guides.rubyonrails.org">Rails guides</a> for some months now. With substantial contributions from <a href="http://guides.rubyonrails.org/credits.html">a variety of authors</a>, things are looking even better in the <a href="http://guides.rails.info">next version</a> of the guides. That makes this the right time to take the overall documentation efforts to the next level.</p>


	<p><strong>Announcing the Documentation Team</strong><br/>
We&#8217;re very happy to announce a formal <a href="http://guides.rails.info/credits.html">documentation team</a> &#8211; consisting of <a href="http://www.hashref.com">Xavier Noria</a>, Mike Gunderloy and myself. However, eventually Mike and I will be just acting as advisors to the documentation team. So we&#8217;re definitely looking to empower some new faces here. If you&#8217;ve been working on improving the documentation and guides, keep up the good work and you&#8217;ll be on the team soon enough!</p>


	<p>The documentation team will be to responsible for keeping the guides and <span class="caps">API</span> documentation up-to-date, working to improve the Rails documentation, and also helping more people contribute to the documentation efforts.</p>


	<p><strong>Documentation Mailing List and <span class="caps">IRC</span></strong><br/>
As part of the renewed documentation effort, we&#8217;re launching a mailing list. So go ahead and subscribe to <a href="http://groups.google.com/group/rubyonrails-docs">rubyonrails-docs</a>. The mailing list will be the main point of communication with the documentation team. If you have any suggestions or need any help, please post it to the mailing list. For quick questions, you can also find some of the team in the #docrails room on <span class="caps">IRC</span> most hours of the day.</p>


	<p><strong>How to Contribute</strong><br/>
If you&#8217;re new to the Rails documentation process (or want to get involved for the first time!), you might want to have a look at the <a href="http://guides.rails.info/contributing_to_rails.html#contributingtothe-rails-documentation">Contributing to the Rails Documentation</a> section of the <em>Contributing to Rails</em> guide.</p>

      <p class="meta">Posted in <a href="/documentation">Documentation</a>
 <strong>|</strong>&nbsp;
<a href="/2009/3/11/rails-guides-gets-a-team-and-a-mailing-list">6 comments</a></p>
      </div>
  </div>

  <div class="blogEntry">
    <div class="post">
      <h2><a href="/2009/3/10/rails-magazine-1-is-out">Rails Magazine #1 is Out</a></h2>
      <p class="metaData">Posted by Mike Gunderloy March 10, 2009 @ 02:01 PM</p>
      <p>One of the measures of the health of a development platform is its ability to support a vibrant ecosystem of users, contributors, speakers, and authors. By this measure, Rails remains in excellent shape. The latest evidence: the release of the first issue of <a href="http://railsmagazine.com/">Rails Magazine</a> &#8211; 36 pages of full-color glossy print.</p>


	<p>The first issue includes 9 articles covering everything from delegation in Ruby to using Saasy for subscription-based applications to performance analysis and getting started with JRuby. The full content will be available on the web shortly, but if you&#8217;d like to support this effort (and help ensure that it doesn&#8217;t go away) you can <a href="http://magcloud.com/browse/Issue/7830">order a paper copy</a> for $8 in the US, UK, or Canada.</p>

      <p class="meta">Posted in <a href="/activism">Activism</a>
 <strong>|</strong>&nbsp;
<a href="/2009/3/10/rails-magazine-1-is-out">12 comments</a></p>
      </div>
  </div>

  <div class="blogEntry">
    <div class="post">
      <h2><a href="/2009/3/5/rails-2-3-rc2-final-stop-before-release">Rails 2.3 RC2: Final stop before release</a></h2>
      <p class="metaData">Posted by David March 05, 2009 @ 11:01 AM</p>
      <p>The past month has seen a flurry of activity getting Rails 2.3 solid. We think we&#8217;ve ironed out all the major kinks now, but just to be sure, we&#8217;re running one last release candidate before it heads off to the presses. So please take some time to test out this release candidate. If we don&#8217;t get any reports of major blockers, we&#8217;re going to call this final within a week or two.</p>


	<p>We&#8217;ve put together a complete guide for <a href="http://guides.rubyonrails.org/2_3_release_notes.html">the Rails 2.3 release notes</a> with all the information on what&#8217;s new, what&#8217;s changed, and what&#8217;s deprecated.</p>


	<p>You can install the release candidate with:</p>


<code>gem install rails --source http://gems.rubyonrails.org</code>

      <p class="meta">Posted in <a href="/releases">Releases</a>
 <strong>|</strong>&nbsp;
<a href="/2009/3/5/rails-2-3-rc2-final-stop-before-release">33 comments</a></p>
      </div>
  </div>

  <div class="blogEntry">
    <div class="post">
      <h2><a href="/2009/2/28/xss-and-csrf-vulnerabilities-in-the-in_place_editing-plugin">XSS and CSRF Vulnerabilities in the in_place_editing plugin</a></h2>
      <p class="metaData">Posted by michael February 28, 2009 @ 02:58 AM</p>
      <p>We have been advised of several vulnerabilities in the <a href="http://github.com/rails/in_place_editing/tree/master">in_place_editing plugin</a> which was created prior to the 2.0.0 release of Ruby on Rails.</p>


	<ul>
	<li>The actions generated by in_place_edit_for perform no verification of the request method, allowing a hostile website to bypass built in <span class="caps">CSRF</span> protection.</li>
		<li>The the input controls generated by in_place_editor_field perform no output sanitization, leaving the application vulnerable to <span class="caps">XSS</span> attacks.</li>
	</ul>


	<p>Users of all versions of the plugin are advised to update to the latest version contained in our git repository at:</p>


	<p><ins>git://github.com/rails/in_place_editing.git</ins></p>


	<p>For users who are unable to use git, we have provided <a href="http://weblog.rubyonrails.org/assets/2009/2/28/in_place_editing.zip">a zip file containing the patched code</a>.  The <a href="http://weblog.rubyonrails.org/assets/2009/2/28/0001-Security-fixes-for-XSS-and-CSRF-issues.patch">patch containing the fix</a> is available also.</p>


	<p>Users of all versions of Rails prior to 2.0 are advised to stop using the in_place_editing functionality, or manually apply those changes to their version of Rails.  If these changes are backported, this post will be updated to include a patch for the relevant versions of rails.</p>


	<p>Thanks to Pawel Stradomski of <a href="http://www.codesprinters.com/">Code Sprinters</a> for reporting this bug to us and working so patiently with us to get it resolved.</p>

      <p class="meta">
<a href="/2009/2/28/xss-and-csrf-vulnerabilities-in-the-in_place_editing-plugin">8 comments</a></p>
      </div>
  </div>

  <div class="blogEntry">
    <div class="post">
      <h2><a href="/2009/2/27/this-week-in-edge-rails">This Week in Edge Rails</a></h2>
      <p class="metaData">Posted by Mike Gunderloy February 27, 2009 @ 01:20 PM</p>
      <h3>February 14, 2009 &#8211; February 27, 2009</h3>


	<p>The sharp-eyed will notice that This Week covers two weeks this week. As Rails 2.3 approaches release, the core team is getting pickier about what goes into the source code, and is concentrating on fixing bugs. You can expect to see Rails 2.3 <span class="caps">RC2</span> very soon, and that may be the last release candidate. So if you haven&#8217;t tested your own applications on Rails 2.3 yet, it&#8217;s time to do so. The edge code is generally stable right now, so it&#8217;s a great time to take a look.</p>


	<h2>Batch Processing</h2>


	<p>You can now process large numbers of records from an ActiveRecord model with less pressure on memory by using <code>find_in_batches</code>:</p>


<pre><code>
Customer.find_in_batches(:conditions =&gt; {:active =&gt; true}) do |customer_group|
  customer_group.each { |customer| customer.update_account_balance! }
end
</code></pre>

	<p>You can pass most of the <code>find</code> options into <code>find_in_batches</code>. However, you cannot specify the order that records will be returned in (they will always be returned in ascending order of primary key, which must be an integer), or use the <code>:limit</code> option. Instead, use the <code>:batch_size</code> option, which defaults to 1000, to set the number of records that will be returned in each batch.</p>


	<p>The new <code>each</code> method provides a wrapper around <code>find_in_batches</code> that returns individual records, with the find itself being done in batches (of 1000 by default):</p>


<pre><code>
Customer.each do |customer|
  customer.update_account_balance!
end
</code></pre>

	<p>Note that you should only use this method when you have enough records to justify batch processing: for small numbers of records (less than 1000), you should just use the regular find methods with your own loop.</p>


	<p><a href="http://github.com/rails/rails/commit/d13623ca46c82120c398f4634e206422fc3ad7ea">commit</a></p>


	<h2>A Note About Template Loading</h2>


	<p>After some extensive work by several authors (here&#8217;s the <a href="http://rails.lighthouseapp.com/projects/8994/tickets/1909">Lighthouse ticket</a>), Rails 2.3 includes the ability to enable or disable cached templates for any particular environment. Cached templates give you a speed boost because they don&#8217;t check for a new template file when they&#8217;re rendered &#8211; but they also mean that you can&#8217;t replace a template &#8220;on the fly&#8221; without restarting the server.</p>


	<p>In most cases, you&#8217;ll want template caching to be turned on in production, which you can do by making a setting in your <code>production.rb</code> file:</p>


<pre><code>
config.action_view.cache_template_loading = true
</code></pre>

	<p>This line will be generated for you by default in a new Rails 2.3 application. But please note: if you&#8217;ve upgraded from an older version of Rails, you won&#8217;t have this setting in your <code>production.rb</code> and template caching will be off by default. Unless you really need the ability to update templates in production without restarting the server, you should be sure to add this setting when you upgrade.</p>

      <p class="meta">Posted in <a class="selected" href="/edge">Edge</a>
 <strong>|</strong>&nbsp;
<a href="/2009/2/27/this-week-in-edge-rails">4 comments</a></p>
      </div>
  </div>

  <div class="blogEntry">
    <div class="post">
      <h2><a href="/2009/2/18/2009-ruby-hero-awards">2009 Ruby Hero Awards</a></h2>
      <p class="metaData">Posted by Gregg Pollack February 18, 2009 @ 03:03 PM</p>
      <p><img src="/assets/2009/2/17/awards_1.png" style="float:left; border: 2px solid black; margin: 0px; margin-right:5px;" /></p>


	<p>There are many people in the Ruby community who contribute to our blossoming ecosystem.  Some do this by producing educational content and others by contributing to open source libraries or helping out newcomers to the Ruby language.  Every week I do my best to help promote the work of these people by talking about the most interesting bits on the <a href="http://www.railsenvy.com/podcast">Rails Envy Podcast</a>.  However, sometimes it just doesn&#8217;t seem like enough.</p>


	<p>There are some developers who contribute to the community above and beyond the others.  These people don&#8217;t always get the recognition they deserve, which is why last year I put together the <a href="http://RubyHeroes.com">Ruby Hero Awards</a>.  Hundreds of people submitted nominations and at RailsConf 2008 we gave away 6 awards to people in our community who deserved a round of applause.</p>


	<p><img src="/assets/2009/2/17/ruby-award-ceremony.jpg" style="border: 2px solid black;" /></p>


	<p><a href="http://rubyheroes.com/old_heroes.html">Last year</a> we gave awards to Ryan Bates, Yehuda Katz, Ilya Grigorik, Evan Weaver, Tom Copeland, and James Edward Gray II.  This year we&#8217;re looking for 6 more people to give awards to and we <a href="http://rubyheroes.com/">need your nominations</a> to figure out who you think deserves one.  Three things to keep in mind here:</p>


	<ul>
	<li>We&#8217;re looking for people who <strong>do not get their deserved recognition</strong>.  For example, any of those Rails Activists and Rails Core members are out of the running.</li>
	</ul>


	<ul>
	<li>When you submit a nomination you&#8217;ll have to enter 25 words as to why you think someone should be nominated.</li>
	</ul>


	<ul>
	<li>The final 6 award winners will be determined by having the 6 winners from the previous year voting on them.  The nominations you submit will certainly play a big factor in this decision, but won&#8217;t be the determining factor (this keeps things from turning into a popularity contest).  So please don&#8217;t post to your blog telling all your friends to &#8220;Nominate You&#8221;, it ain&#8217;t gonna work.</li>
	</ul>


	<p>The 6 winners will be announced on stage at <a href="http://en.oreilly.com/rails2009/">RailsConf 2009</a>, which is just around the corner.  So if  you know someone Ruby or Rails community who deserves some recognition, please take 2 minutes and <a href="http://rubyheroes.com">submit a nomination for them</a>.</p>


	<p><small>Photo Credits: <a href="http://www.flickr.com/photos/x180/2537415785/">Ruby Hero Awards</a> by <a href="http://www.flickr.com/photos/x180/">Duncan Davidson</a>, <a href="http://www.flickr.com/photos/wyrosdick/2597654577/"><span class="caps">IMG</span>_5428</a> by <a href="http://www.flickr.com/photos/wyrosdick/">wyros</a></small></p>

      <p class="meta">Posted in <a href="/activism">Activism</a>
 <strong>|</strong>&nbsp;
<a href="/2009/2/18/2009-ruby-hero-awards">11 comments</a></p>
      </div>
  </div>

  <div class="blogEntry">
    <div class="post">
      <h2><a href="/2009/2/13/this-week-in-edge-rails">This Week in Edge Rails</a></h2>
      <p class="metaData">Posted by Mike Gunderloy February 13, 2009 @ 01:45 PM</p>
      <h3>February 7, 2009 &#8211; February 13, 2009</h3>


	<p>It&#8217;s been a fairly busy week on the edge, but there are not a lot of new features to point at. That&#8217;s good: at this point in the release cycle, the team is concentrating on nailing down things to be solid even in strange circumstances. This is also the point at which <em>your</em> help is critical: if a change affects one of your applications, and you don&#8217;t tell anyone about it, you can&#8217;t expect a fix. You don&#8217;t need to be running your applications full-time on <span class="caps">RC1</span>, but please, check out edge Rails, try it out, and report anything that seems to be broken. Bonus points if you include tests to show the expected behavior, and super bonus points if you submit a patch to go with it.</p>


	<h2>View Rendering Changes</h2>


	<p>A series of commits have addressed some issues with view rendering. The end result is to improve the performance of view rendering in development mode, <em>and</em> to bring back template recompiling in production mode (so you can change a view and have the changes show up without having to restart the whole server). Some of this work is ported from <a href="http://github.com/thedarkone/rails-dev-boost/tree/rails-2-3/lib/rails_development_boost/cached_templates_patch">rails-dev-boost</a> and if you want to come up to speed on what&#8217;s been done here the best thing to do is read the <a href="http://rails.lighthouseapp.com/projects/8994/tickets/1909">Lighthouse ticket</a></p>


	<h2>Partial Scoping for Translations</h2>


	<p>A change to the translation <span class="caps">API</span> makes things easier and less repetitive to write key translations within partials. If you call <code>translate(".foo")</code> from the <code>people/index.html.erb</code> template, you&#8217;ll actually be calling <code>I18n.translate("people.index.foo")</code> If you don&#8217;t prepend the key with a period, then the <span class="caps">API</span> doesn&#8217;t scope, just as before.</p>


	<p><a href="http://github.com/rails/rails/commit/7527cdf79c640eae5db29a6f3f9b955aa50bc29e">commit</a></p>


	<h2>Nested Attributes <span class="caps">API</span> Change</h2>


	<p>The <span class="caps">API</span> for <code>NestedAttributes</code> has been changed so as to work better with existing associations. If you&#8217;ve just used this for nested model forms, the changes will probably be transparent to you, but if you&#8217;ve been deeper into the internals you should have a look at the discussion in <a href="http://rails.lighthouseapp.com/projects/8994/tickets/1892">Lighthouse</a> as well as the code in the commit.</p>


	<p><a href="http://github.com/rails/rails/commit/5dbc9d40a49f5f0f50c2f3ebe6dda942f0e61562">commit</a></p>


	<h2>Less Brittle Tests for Scaffolded Controllers</h2>


	<p>The automatically-generated functional tests for controllers generated with <code>script/generate scaffold</code> now use <code>to_param</code> instead of <code>id</code> to identify records, which should make them more resilient to changes in fixtures over time.</p>


	<p><a href="http://github.com/rails/rails/commit/0c956443964a20cbcc122e2d8c429b0cbb121828">commit</a></p>


	<h2>TimeWithZone changes</h2>


	<p>There were some internal changes to <code>TimeWithZone</code> that make its code more readable and efficient. One change surfaces to the <span class="caps">API</span>: <code>TimeWithZone#to_formatted_s</code> is an alias for <code>TimeWithZone#to_s</code>.</p>


	<p><a href="http://github.com/rails/rails/commit/18d636934492fd657a67dc980b8556bcf69a818d">commit</a></p>


	<h2>A New Inflection</h2>


	<p>Breaking a long-standing policy, there was actually a change to the built-in list of pluralizations this week: Rails now handles database/databases correctly. Remember, a foolish consistency is the hobgoblin of little minds, and please don&#8217;t take this as an invitation to reopen the old <a href="http://dev.rubyonrails.org/ticket/10919">ticket 10919</a>. The policy remains that you can add inflections in your own application&#8217;s initializers if you need to do so.</p>

      <p class="meta">
<a href="/2009/2/13/this-week-in-edge-rails">5 comments</a></p>
      </div>
  </div>

  <div class="blogEntry">
    <div class="post">
      <h2><a href="/2009/2/10/the-state-of-the-wiki">The State of the Wiki</a></h2>
      <p class="metaData">Posted by Mike Gunderloy February 10, 2009 @ 02:03 AM</p>
      <p>The new and revitalized <a href="http://newwiki.rubyonrails.org/">Rails Wiki</a> launched about two weeks ago, so it&#8217;s time for a progress report back to the Rails community. The short answer: things are going well. We&#8217;ve had nearly a hundred edits, dozens of topics put in place, and an active discussion on the <a href="http://groups.google.com/group/rubyonrails-wiki">wiki mailing list</a>. Translators are already at work making the wiki content available in multiple languages. For topics ranging from a first Rails application walkthrough to handling timezones, the new wiki is already a spot to go for quality Rails content.</p>


	<p>The wiki team has applied lessons learned from the old Rails wiki, which has gone from being a comfortable spot to find out a few things to a cluttered mess over the years. They started out by defining an overall structure and figuring out what warranted coverage in the wiki. Then they protected a few pages from edits and set up a login system to encourage accountability. The result, so far, is a very promising start at an information resource that can benefit all Rails developers.</p>


	<p>But there&#8217;s plenty more to do. If you take a look at the <a href="http://newwiki.rubyonrails.org/">new wiki home page</a> you&#8217;ll find a bunch of topics in red with dashed underlines. Those are topics that we want, but that no one has written yet. If you have a few minutes to give back to the community, why not drop by? Whether it&#8217;s drafting a new topic from scratch, revising an existing topic to be more clear or correct, adding links to high-quality external resources, or translating the wiki into another language, there&#8217;s plenty left to do &#8211; and just about every Rails developer should be able to contribute.</p>

      <p class="meta">Posted in <a href="/activism">Activism</a>
 <strong>|</strong>&nbsp;
<a href="/2009/2/10/the-state-of-the-wiki">9 comments</a></p>
      </div>
  </div>

  <div class="blogEntry">
    <div class="post">
      <h2><a href="/2009/2/6/this-week-in-edge-rails">This Week in Edge Rails</a></h2>
      <p class="metaData">Posted by Mike Gunderloy February 06, 2009 @ 01:53 PM</p>
      <h3>January 31, 2009 &#8211; February 6, 2009</h3>


	<p>The big news in edge Rails this week, of course, is the <a href="http://weblog.rubyonrails.org/2009/2/1/rails-2-3-0-rc1-templates-engines-rack-metal-much-more">release of Rails 2.3.0 <span class="caps">RC1</span></a>. There&#8217;s been a fair amount of activity in the days since that happened, much of it concerned with tidying things up and fixing bugs based on early adopter issues and feedback. Thanks for all the testing, and by all means keep it up!</p>


	<h2>Nested Form Support in Active Record and Action Pack</h2>


	<p>This one is big enough that it got a whole <a href="http://weblog.rubyonrails.org/2009/1/26/nested-model-forms">blog entry</a> of its own (the version that was committed has minor changes from what you&#8217;ll see there). There are two main parts to this commit. First, Active Record can now update the attributes on nested models directly, provided you tell it to do so:</p>


<pre><code>
class Book &lt; ActiveRecord::Base
  has_one :author
  has_many :pages

  accepts_nested_attributes_for :author, :pages
end
</code></pre>

	<p>Turning on nested attributes enables a number of things, including automatic (and atomic) saving of a record together with its associated children, and child-aware validations. But the big visible one is nested form support. Provided the parent model accepts nested attributes for the child objects, you can create nested forms using <code>form_for</code> and <code>field_for</code>. These forms can be nested arbitrarily deep, allowing you to edit complex object hierarchies on a single view without excessive code. For example, given this model:</p>


<pre><code>
class Customer &lt; ActiveRecord::Base
  has_many :orders

  accepts_nested_attributes_for :orders, 
    :allow_destroy =&gt; true
end
</code></pre>

	<p>You can write this view in Rails 2.3:</p>


<pre><code>
&lt;% form_for @customer do |customer_form| %&gt;
  &lt;div&gt;
    &lt;%= customer_form.label :name, 'Customer Name:' %&gt;
    &lt;%= customer_form.text_field :name %&gt;
  &lt;/div&gt;

  &lt;!-- Here we call fields_for on the customer_form builder instance.
   The block is called for each member of the orders collection. --&gt;
  &lt;% customer_form.fields_for :orders do |order_form| %&gt;
    &lt;p&gt;
      &lt;div&gt;
        &lt;%= order_form.label :number, 'Order Number:' %&gt;
        &lt;%= order_form.text_field :number %&gt;
      &lt;/div&gt;

  &lt;!-- The allow_destroy option in the model enables deletion of
   child records. --&gt;
      &lt;% unless order_form.object.new_record? %&gt;
        &lt;div&gt;
          &lt;%= order_form.label :_delete, 'Remove:' %&gt;
          &lt;%= order_form.check_box :_delete %&gt;
        &lt;/div&gt;
      &lt;% end %&gt;
    &lt;/p&gt;
  &lt;% end %&gt;

  &lt;%= customer_form.submit %&gt;
&lt;% end %&gt;
</code></pre>

	<p>For more information, see Ryan Daigle&#8217;s excellent <a href="http://ryandaigle.com/articles/2009/2/1/what-s-new-in-edge-rails-nested-attributes">What&#8217;s New in Edge Rails: Nested Object Forms</a>.</p>


	<p><a href="http://github.com/rails/rails/commit/ec8f04584479aff895b0b511a7ba1e9d33f84067">commit</a></p>


	<h2>Rails Guides Rework</h2>


	<p>The Rails Guides have switched from using AsciiDoc markup to using Textile markup. This has a couple of benefits: first, it makes it easier to contribute to a guide. Second, it means that we can dispense with the compiled <span class="caps">HTML</span> versions of the guides in the Rails tree, because we can assume any developer can build from Textile. There&#8217;s a spiffy new look for the Guides web site too &#8211; check it out at the <a href="http://guides.rails.info">beta site</a>.</p>


	<p><a href="http://github.com/rails/rails/commit/96d610553e5fdaabc923835ab1f194070ddb4477">commit</a></p>


	<h2>Scaffolding Changes</h2>


	<p>There were some cleanups to the code produced by <code>script/generate scaffold</code> &#8211; nothing too major, but they bring the controller and views more into line with current Rails best practices. Along the same lines, the &#8220;Riding the Rails&#8221; index.html page generated in new Rails applications now includes a link to the <a href="http://guides.rubyonrails.org">Rails Guides</a>.</p>


	<p><a href="http://github.com/rails/rails/commit/44f02de2ad6d22d0d781c0c7303bcd8162aaa5d6">commit</a> <a href="http://github.com/rails/rails/commit/a2da7fd349b3e8fbeb814a64c9bb6b7c91290257">commit</a> <a href="http://github.com/rails/rails/commit/3be0ad60e4fcdafd4817508a21340dbf1bda6cb4">commit</a></p>

      <p class="meta">
<a href="/2009/2/6/this-week-in-edge-rails">4 comments</a></p>
      </div>
  </div>

  <div class="blogEntry">
    <div class="post">
      <h2><a href="/2009/2/5/this-week-in-rails-3-0">This Week in Rails 3.0</a></h2>
      <p class="metaData">Posted by Mike Gunderloy February 05, 2009 @ 11:38 AM</p>
      <p>Now that Rails 2.3 has hit the release candidate phase, some of the development effort is turning to Rails 3.0. With that activity heating up, it&#8217;s time to start keeping you all informed as to happenings on the 3.0 version of the Rails source. I&#8217;ll still be posting separate &#8220;This Week in Edge Rails&#8221; information focused on Rails 2.3, so you can keep straight which changes are ready now and which still lie in the relatively distant future.</p>


	<h2>The Vision</h2>


	<p>The Rails 3 vision is based on the <a href="http://weblog.rubyonrails.org/2008/12/23/merb-gets-merged-into-rails-3">announcement</a> that was made in December: we&#8217;re bringing in the key ideas from Merb to Rails, including:</p>


	<ul>
	<li>A more modular Rails core, so you can run applications with less than the full Rails stack</li>
		<li>Performance optimizations</li>
		<li>Framework agnosticism with sensible defaults</li>
		<li>A tested and documented <span class="caps">API</span> for extensions</li>
	</ul>


	<p>Rails 3 promises to substantially advance the state of the art in Ruby web frameworks, while still providing migration paths from Rails 2.x and Merb 1.x.</p>


	<h2>The Source Code</h2>


	<p>The Rails 3.0 branch in the main Rails project on GitHub is the place to be to see what&#8217;s going on:</p>


<pre><code>
git clone git://github.com/rails/rails.git
git checkout 3-0-unstable
</code></pre>

	<p>As the branch name might tell you, this is still a fairly experimental place to be: you probably don&#8217;t want to roll this out for production applications just yet. But it is tested code (and it&#8217;s using continuous integration to stay that way), and it already includes substantial changes from Rails 2.x thanks to the efforts of Yehuda Katz, Joshua Peek, and others. The changes so far are focused on cleaning up and improving Rails internals, rather than on adding new features.</p>


	<h2>Action Dispatch</h2>


	<p>Action Dispatch is a new Rails component which lives in Action Pack (along with Action Controller and Action View). Action Dispatch is responsible for all the processing involved with dispatching requests: request and response handling, <span class="caps">HTTP</span> status codes, file uploads, <span class="caps">URL</span> and parameter parsing, session storage, and so on.</p>


	<h2>Action View Reorganization</h2>


	<p>There are substantial changes in the Action View internals. The overall goal was to clean up a bunch of special cases and extra hooks that had built up over the years, and to leave all callers into Action View using a single unified entry point. The code cleanup has been coupled with some rearrangement of the Action View source to make it easier to find bits of functionality. This was a substantial effort; if you&#8217;re interested in a detailed look at the refactoring, you can read up on it at <a href="http://yehudakatz.com/">Yehuda&#8217;s blog</a></p>


	<h2>Callback Optimizations</h2>


	<p>A new method of handling callbacks removes the need for iterating through the callback list at runtime, and provides a substantial speed improvement in this area of the code. Though this is a micro-optimization that may not have much effect by itself, the hope is that by carefully optimizing as many hot spots as possible we can get a visible overall speedup in page creation and delivery &#8211; which, after all, is the point of a web framework.</p>


	<h2>What&#8217;s Next?</h2>


	<p>Obviously, there&#8217;s a long distance between where we are today and the Rails 3.0 vision. We&#8217;re fortunate to have an excellent team of core programmers devoting substantial time to making that journey. The interim goal is still to have a beta version of Rails 3.0 out in time for RailsConf in May. You can help in the same ways as with earlier versions of Rails: download the source, start testing it with your applications, and submit your own ideas and patches to the <a href="http://rails.lighthouseapp.com/projects/8994/">Rails Lighthouse</a>. Rails has been a joint effort of thousands of developers over the years, and Rails 3.0 will be no different in that regard.</p>

      <p class="meta">Posted in <a class="selected" href="/edge">Edge</a>
 <strong>|</strong>&nbsp;
<a href="/2009/2/5/this-week-in-rails-3-0">12 comments</a></p>
      </div>
  </div>

  <div class="blogEntry">
    <div class="post">
      <h2><a href="/2009/2/4/rails-guides-gets-a-facelift">Rails Guides Gets a Facelift</a></h2>
      <p class="metaData">Posted by Mike Gunderloy February 04, 2009 @ 01:05 AM</p>
      <p>There&#8217;s a brand new version of Rails coming, <a href="http://weblog.rubyonrails.org/2009/2/1/rails-2-3-0-rc1-templates-engines-rack-metal-much-more">as you already know</a>. What better time for a new version of some of the Rails documentation? So the Rails Guides team is pleased to announce a refresh of the <a href="http://guides.rails.info">Ruby on Rails Guides</a> site, just in time for the Rails 2.3 release.</p>


	<p>The most obvious change you&#8217;ll see is a new look, thanks to some awesome design work from <a href="http://www.thinkcage.com/">Jason Zimdars</a>. But the visual refresh isn&#8217;t all that&#8217;s going on here. We&#8217;ve also been working to update the Guides for Rails 2.3, as well as to add new guides to the list.</p>


	<p>And there&#8217;s good news if you want to get involved too. Behind the scenes, <a href="http://tore.darell.no">Tore</a> and Pratik switched our markup engine from AsciiDoc to Textile. This makes the Guides easier to write and edit and easier to build into a Rails project. If you&#8217;ve got some spare time to help out, join us in the #docrails room on irc.freenode.net, and help make the Rails Guides into a great resource in time for the 2.3 release.</p>

      <p class="meta">Posted in <a href="/documentation">Documentation</a>
 <strong>|</strong>&nbsp;
<a href="/2009/2/4/rails-guides-gets-a-facelift">11 comments</a></p>
      </div>
  </div>

      </div>
    </div>
<div class="copyright">
	<p>
	  Ruby on Rails was created by <a href="http://www.loudthinking.com/about.html">David Heinemeier Hansson</a>, a partner at <a href="http://www.37signals.com">37signals</a>,<br/>

	  then extended and improved by a <a href="http://www.rubyonrails.org/core">core team of committers</a> and hundreds of open-source contributors.
	</p>
	
	<p>Rails is released under the <a href="http://www.opensource.org/licenses/mit-license.php">MIT license</a>. Ruby under the <a href="http://www.ruby-lang.org/en/LICENSE.txt">Ruby License</a>.</p>

	<p>"Rails", "Ruby on Rails", and the Rails logo are trademarks of David Heinemeier Hansson. All rights reserved.</p>
	
      <table>
        <tr>
          <td valign="center">
            <p>Sponsored by</p>
          </td>
          <td><a href="http://www.37signals.com" class="no_link_hover"><img alt="37signals" height="22" src="http://rubyonrails.org/images/37slogo-trans.gif" style="margin-top: 2px" width="100" /></a></td>
        </tr>
      </table>
</div>
  </div>

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1959218-2";
urchinTracker();
</script>

</body>
</html>