<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>MaxMind - Ruby API </title>
<base href="http://www.maxmind.com/app/">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link href="/maxmind_styles.css" rel="stylesheet" type="text/css">
<link REL="shortcut icon" HREF="/favicon.ico" TYPE="image/x-icon">

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-171943-1";
urchinTracker();
</script>

</head>

<body bgcolor="#FFFFFF" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">


<table width="735" border="0" align="center" cellpadding="0" cellspacing="0">
  <tr>
    <td valign="top">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr valign="middle"> 
          <td width="240"><a href="/"><img src="/images/maxmind_logo.gif" alt="MaxMind" width="191" height="46" vspace="12" border="0"></a></td>
          <td width="140">






</td>
          <td align="right">
<table width="320" border="0" cellspacing="0" cellpadding="0">
              <tr align="center">

                <td width="25%"><a href="support"><img src="/images/icon_contact_blue.gif" alt="Support" width="28" height="28" border="0" vspace="5"></a></td>


                <td width="25%"><a href="account"><img src="/images/icon_account_blue.gif" alt="My Account" width="28" height="28" border="0"></a></td>


                <td width="25%"><a href="faq"><img src="/images/icon_faq_blue.gif" alt="FAQ" width="28" height="28" border="0"></a></td>


                <td width="25%"><a href="cart"><img src="/images/icon_shopcart_blue.gif" alt="My Order" width="28" height="28" border="0"></a></td>

              </tr>
              <tr align="center">

                <td><a class="navIcon" href="support">Support</a></td>


                <td><a class="navIcon" href="account">My Account</a></td>


                <td><a class="navIcon" href="faq">FAQ</a></td>


                <td><a class="navIcon" href="cart">My Order</a></td>

              </tr>
            </table>
          </td>
        </tr>
      </table>
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td width="180" valign="middle" bgcolor="#A4B3C7">
              <table width="100%" border="0" cellspacing="0" cellpadding="0"><form method=get action="http://search.yahoo.com/search">
                <tr> 
                  <td width="10"><img src="/images/spacer.gif" width="10" height="24"></td>
                  <td> 
                    <input maxlength="30" name="p" class="searchField" type="text" size="13">
                  </td>
                  <td height="24" align="right"><input value="search" class="searchButton" type="submit">
<input value="maxmind.com" name="vs" type="hidden"><br><input value="yscpb" name="fr" type="hidden">
		</td>
                  <td width="10"><img src="/images/spacer.gif" width="10" height="26"></td>
                </tr></form>
              </table>
            </td>
          <td><table width="100%" border="0" cellspacing="0" cellpadding="0">
              <tr align="center" valign="middle" bgcolor="#003366" class="navTop">
                <td width="1"><img src="/images/spacer.gif" width="1" height="26"></td>
                <td width="109"><a class="navTop" href="/">Home</a></td>
                <td width="2"><img src="/images/white.gif" width="2" height="12"></td>
                <td width="109"><a class="navTop" href="ip-location">GeoIP</a></td>
                <td width="2"><img src="/images/white.gif" width="2" height="12"></td>
                <td width="109"><a class="navTop" href="ccv_overview">minFraud</a></td>
                <td width="2"><img src="/images/white.gif" width="2" height="12"></td>
                <td width="109"><a class="navTop" href="contact">Contact</a></td>
                <td width="2"><img src="/images/white.gif" width="2" height="12"></td>

                <td width="110"><a class="navTop" href="about">Company</a></td>

              </tr>
            </table></td>
        </tr>
      </table>
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td width="180" valign="top" bgcolor="#E8ECF1"> 
            <table width="180" border="0" cellspacing="0" cellpadding="0">


               <tr bgcolor="#547093">
                <td width="10"><img src="/images/spacer.gif" width="10" height="3"></td>
                <td><img src="/images/spacer.gif" width="10" height="3"></td>
                <td width="10"><img src="/images/spacer.gif" width="10" height="3"></td>
              </tr>
              <tr bgcolor="#B8C4D3">
                <td width="10"><img src="/images/spacer.gif" width="10" height="22"></td>
                <td class="navLeftTitle">GeoIP APIs</td>
                <td width="10"><img src="/images/spacer.gif" width="10" height="22"></td>
              </tr>
              <tr bgcolor="#547093">
                <td width="10"><img src="/images/spacer.gif" width="10" height="1"></td>
                <td><img src="/images/spacer.gif" width="10" height="1"></td>
                <td width="10"><img src="/images/spacer.gif" width="10" height="1"></td>
              </tr>




 
  <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
<td align="left" valign="middle" bgcolor="#E8ECF1"><a class="navLeftLink" href="mod_geoip">Apache Module</a></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
</tr>

  
   <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
<td align="left" valign="middle" bgcolor="#A4B3C7"><img src="/images/spacer.gif" width="10" height="1"></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
</tr>

  
 
  <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
<td align="left" valign="middle" bgcolor="#E8ECF1"><a class="navLeftLink" href="c">C</a></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
</tr>

  
   <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
<td align="left" valign="middle" bgcolor="#A4B3C7"><img src="/images/spacer.gif" width="10" height="1"></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
</tr>

  
 
  <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
<td align="left" valign="middle" bgcolor="#E8ECF1"><a class="navLeftLink" href="csharp">C# Class</a></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
</tr>

  
   <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
<td align="left" valign="middle" bgcolor="#A4B3C7"><img src="/images/spacer.gif" width="10" height="1"></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
</tr>

  
 
  <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
<td align="left" valign="middle" bgcolor="#E8ECF1"><a class="navLeftLink" href="java">Java Class</a></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
</tr>

  
   <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
<td align="left" valign="middle" bgcolor="#A4B3C7"><img src="/images/spacer.gif" width="10" height="1"></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
</tr>

  
 
  <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
<td align="left" valign="middle" bgcolor="#E8ECF1"><a class="navLeftLink" href="com">MS COM Object</a></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
</tr>

  
   <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
<td align="left" valign="middle" bgcolor="#A4B3C7"><img src="/images/spacer.gif" width="10" height="1"></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
</tr>

  
 
  <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
<td align="left" valign="middle" bgcolor="#E8ECF1"><a class="navLeftLink" href="pascal">Pascal</a></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
</tr>

  
   <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
<td align="left" valign="middle" bgcolor="#A4B3C7"><img src="/images/spacer.gif" width="10" height="1"></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
</tr>

  
 
  <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
<td align="left" valign="middle" bgcolor="#E8ECF1"><a class="navLeftLink" href="perl">Perl Module</a></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
</tr>

  
   <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
<td align="left" valign="middle" bgcolor="#A4B3C7"><img src="/images/spacer.gif" width="10" height="1"></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
</tr>

  
 
  <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
<td align="left" valign="middle" bgcolor="#E8ECF1"><a class="navLeftLink" href="php">PHP Module</a></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
</tr>

  
   <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
<td align="left" valign="middle" bgcolor="#A4B3C7"><img src="/images/spacer.gif" width="10" height="1"></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
</tr>

  
 
  <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
<td align="left" valign="middle" bgcolor="#E8ECF1"><a class="navLeftLink" href="python">Python Class</a></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
</tr>

  
   <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
<td align="left" valign="middle" bgcolor="#A4B3C7"><img src="/images/spacer.gif" width="10" height="1"></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
</tr>

  
 
  <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
<td align="left" valign="middle" bgcolor="#E8ECF1"><span class="navLeftLinkInactive">Ruby Module</span></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
</tr>

  
   <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
<td align="left" valign="middle" bgcolor="#A4B3C7"><img src="/images/spacer.gif" width="10" height="1"></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="1"></td>
</tr>

  
 
  <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
<td align="left" valign="middle" bgcolor="#E8ECF1"><a class="navLeftLink" href="vb">VB.Net</a></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
</tr>

  
 





               <tr bgcolor="#547093">
                <td width="10"><img src="/images/spacer.gif" width="10" height="3"></td>
                <td><img src="/images/spacer.gif" width="10" height="3"></td>
                <td width="10"><img src="/images/spacer.gif" width="10" height="3"></td>
              </tr>
              <tr bgcolor="#B8C4D3">
                <td width="10"><img src="/images/spacer.gif" width="10" height="22"></td>
                <td class="navLeftTitle">MaxMind</td>
                <td width="10"><img src="/images/spacer.gif" width="10" height="22"></td>
              </tr>
              <tr bgcolor="#547093">
                <td width="10"><img src="/images/spacer.gif" width="10" height="1"></td>
                <td><img src="/images/spacer.gif" width="10" height="1"></td>
                <td width="10"><img src="/images/spacer.gif" width="10" height="1"></td>
              </tr>




 
  <tr>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
<td align="left" valign="middle" bgcolor="#E8ECF1"><a class="navLeftLink" href="support">Support Center</a></td>
<td width="10" bgcolor="#E8ECF1"><img src="/images/spacer.gif" width="10" height="22"></td>
</tr>

  
 








              <tr> 
                <td valign="top" bgcolor="#A4B3C7"><img src="/images/spacer.gif" width="10" height="1"></td>
                <td align="left" valign="middle" bgcolor="#A4B3C7"><img src="/images/spacer.gif" width="10" height="3"></td>
                <td bgcolor="#A4B3C7"><img src="/images/spacer.gif" width="10" height="1"></td>
              </tr>
            </table>

            <br>
          </td>
          <td width="15" valign="top"><img src="/images/spacer.gif" width="15" height="100"></td>
          <td valign="top"><img src="/images/spacer.gif" width="540" height="15" vspace="0" align="top"><br>



  


<span class="PageHeader">Ruby API</span><p>
<table cellpadding=0 cellspacing=0 border=0 width="100%">
 <tr>
  <td valign="top" bgcolor="#C39E7F"><img src="/img/1x1.gif" width="1" height="3"></td>
 </tr>
</table>
<p>



<p><span class=kickerblue>Download</span><br>
Download from <a href="/download/geoip/api/ruby/">here</a>.
<p><span class=kickerblue>Requirements</span><br>
<a href="c">GeoIP C Library</a> must be installed to run Ruby API.<br>
<p><span class=kickerblue>Usage</span><br>

<table cellspacing="5" cellpadding="1"><tr><td class="code"><pre>
Net::GeoIP::TYPE_DISK               >> access type constant
Net::GeoIP::TYPE_RAM                >> access type constant

g = Net::GeoIP.new([access_type])
g = Net::GeoIP.open(db_filename[, access_type])

g.country_code_by_addr('127.0.0.1')   >> 'US'
g.country_code_by_name('yahoo.com')   >> 'US'
g.country_code3_by_addr('127.0.0.1')  >> 'USA'
g.country_code3_by_name('yahoo.com')  >> 'USA'
g.country_name_by_addr('127.0.0.1')   >> 'United States'
g.country_name_by_name('yahoo.com')   >> 'United States'
g.country_id_by_addr('127.0.0.1')     >> 225
g.country_id_by_name('yahoo.com')     >> 225
g.region_by_addr('127.0.0.1')         >> ?? Can't test this
g.region_by_name('yahoo.com')         >> ?? Can't test this

g.database_info()                     >> Misc database info
g.update_database(your_key_here[,debug])  >> Updates your database
</pre>
</td></tr><tr><td><img src="/images/spacer.gif" width="1" height="1"></td></tr></table>


<p>
There is an updated net-geoip module with support for GeoIP City available
from <a href="http://rubyforge.org/scm/?group_id=947">RubyForge</a> (SVN checkout required).
There is a <a href="/ruby-api-update.patch">patch available</a> to add GeoIP ISP/Organization support.
<p>
Michal Safranek has contributed a <a href="/geoipupdate.rb.html">geoipupdate alternative</a> for automating the updates of GeoIP Country.
<p>

<span class=kickerblue>Credits</span><br>
Thanks to Sean Chittenden for writing the GeoIP Ruby API.
<p>
          </td>
        </tr>
      </table>
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td><img src="/images/spacer.gif" width="10" height="3"></td>
        </tr>
        <tr> 
          <td bgcolor="#B8C4D3"><img src="/images/spacer.gif" width="10" height="7"></td>
        </tr>
        <tr> 
          <td align="center" valign="top"><br>
            <span class="legal"> MaxMind, GeoIP and related marks are registered trademarks of MaxMind, Inc.<br>
            Copyright &copy; 2008 MaxMind, Inc. All Rights Reserved. <a class="navLinkLeft" href="terms_of_use">Terms of use</a>.<br></span> 

          </td>
        </tr>
      </table>
      <br>
      <br>
    </td>
  </tr>
</table>
</body>
</html>